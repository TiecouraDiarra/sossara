<!-- Breadscrumb Section -->
<div class="breadcrumb-bar">
    <div class="container">
        <div class="row align-items-center text-center">
            <div class="col-md-12 col-12">
                <h2 class="breadcrumb-title">Mes biens</h2>
                <nav aria-label="breadcrumb" class="page-breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a [routerLink]="routes.home9">Accueil</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Biens</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- /Breadscrumb Section -->
<!-- Dashboard Content -->
<div class="dashboard-content">
    <div class="container">
        <div class="">
            <ul class="dashborad-menus">
                <li>
                    <a [routerLink]="routes.dashboard">
                        <i class="feather-grid"></i> <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a [routerLink]="routes.profile">
                        <i class="fa-solid fa-user"></i> <span>Profil</span>
                    </a>
                </li>
                <li class="active">
                    <a [routerLink]="routes.mylisting">
                        <i class="feather-list"></i> <span>Mes biens</span>
                    </a>
                </li>
                <li *ngIf="isAgence">
                    <a [routerLink]="routes.bookmarks">
                        <i class="fas fa-solid fa-heart"></i> <span>Mes agents</span>
                    </a>
                </li>
                <li>
                    <a [routerLink]="routes.messages">
                        <i class="fa-solid fa-comment-dots"></i> <span>Messages</span>
                    </a>
                </li>
                <li>
                    <a [routerLink]="routes.reviews">
                        <i class="fas fa-solid fa-star"></i> <span>Notifications</span>
                    </a>
                </li>
                <!-- <li class="crd">
                    <a (click)="logout()">
                        <i class="fas fa-light fa-circle-arrow-left"></i> <span>Deconnexion</span>
                    </a>
                </li> -->
            </ul>
        </div>
        <!-- Debut AGENCE ET PROPRIETAIRE  -->
        <div class="container card shadow d-flex justify-content-center mt-5" *ngIf="isLocataire==false">
            <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" [class.active]="isTabActive('home')" (click)="changeTab('home')"
                        id="home-tab" data-toggle="tab" role="tab" aria-controls="home" aria-selected="true">Liste
                        biens</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" [class.active]="isTabActive('loue')" (click)="changeTab('loue')"
                        id="loue-tab" data-toggle="tab" role="tab" aria-controls="loue" aria-selected="false">Biens
                        loues</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="vendu-tab" data-toggle="tab"
                        [class.active]="isTabActive('vendu')" (click)="changeTab('vendu')" role="tab"
                        aria-controls="vendu" aria-selected="false">Biens vendus</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="location-tab" data-toggle="tab"
                        [class.active]="isTabActive('location')" (click)="changeTab('location')" role="tab"
                        aria-controls="location" aria-selected="false">Mes locations</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="achete-tab" data-toggle="tab"
                        [class.active]="isTabActive('achete')" (click)="changeTab('achete')" role="tab"
                        aria-controls="achete" aria-selected="false">Biens achetes</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="reclamation-tab" data-toggle="tab"
                        [class.active]="isTabActive('reclamation')" (click)="changeTab('reclamation')" role="tab"
                        aria-controls="reclamation" aria-selected="false">Reclamation</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <!-- Debut La liste des biens  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('home')" id="home" role="tabpanel"
                    aria-labelledby="home-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <div class="card-header">
                                <h4>Mes biens</h4>
                                <!-- <h4 *ngIf="bienImmo && bienImmo.length == 0">Pas de biens</h4> -->
                                <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                                    <i class="fa-solid fa-plus"></i> Ajouter un bien</a>
                            </div>
                            <div class="card-body" *ngIf="bienImmo && bienImmo.length > 0">
                                <div class="listing-search">
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchText" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>
                                    <div class="sorting-div">
                                        <div class="sortbyset">
                                            <span class="sortbytitle">Trier par</span>
                                            <div class="sorting-select">
                                                <select class="form-control select" [(ngModel)]="searchText">
                                                    <option value="" selected>Tout</option>
                                                    <option>A louer</option>
                                                    <option>A vendre</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="status">Statut</th>
                                                <th mat-sort-header="view">Vues</th>
                                                <th mat-sort-header="Action">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmo | filter:searchText | paginate:{itemsPerPage :4, currentPage:p1}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)" class="crd">
                                                            <div
                                                                *ngIf="BienImmo.photos && BienImmo.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo && BienImmo.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.nom ? BienImmo.nom : BienImmo.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.typeImmo.nom}}
                                                        </a> <span class="discount-amt">{{ formatPrice(BienImmo.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p>{{BienImmo.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.adresse.commune.region.nom}} -
                                                        {{BienImmo.adresse.commune.nom}} - {{BienImmo.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span [ngClass]="{'unpublish': BienImmo.statut === 'A vendre' }"
                                                        class="status-text">{{BienImmo.statut}}</span></td>
                                                <td><span class="views-count">{{ favoritedPropertiesCount1[BienImmo.id] }}</span></td>
                                                <td>
                                                    <div class="action">
                                                        <a (click)="goToDettailBien(BienImmo.id)"
                                                            class="action-btn btn-view crd"><i
                                                                class="feather-eye"></i></a>
                                                        <a href="javascript:void(0)" class="action-btn btn-edit"><i
                                                                class="feather-edit-3"></i></a>
                                                        <a href="javascript:void(0)" class="action-btn btn-trash"><i
                                                                class="feather-trash-2"></i></a>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <pagination-controls *ngIf="bienImmo && bienImmo.length > 0" (pageChange)="p1 = $event"
                                    previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                                    previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- fin La liste des biens  -->
                <!-- Debut des biens loues  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('loue')" id="loue" role="tabpanel"
                    aria-labelledby="loue-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <!-- <div class="card-header"> -->
                            <!-- <h4>Mes biens qui sont loues</h4> -->
                            <!-- <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                                    <i class="fa-solid fa-plus"></i> Ajouter un bien</a> -->
                            <!-- </div> -->
                            <div class="card-body" *ngIf="bienImmoDejaLoue && bienImmoDejaLoue.length > 0">
                                <div class="listing-search">
                                    <h4>Mes biens qui sont loues</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienLoue" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>
                                    <!-- <div class="sorting-div">
                                        <div class="sortbyset">
                                            <span class="sortbytitle">Trier par</span>
                                            <div class="sorting-select">
                                                <select class="form-control select" [(ngModel)]="searchText">
                                                    <option value="" selected>Tout</option>
                                                    <option>A louer</option>
                                                    <option>A vendre</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="status">Statut</th>
                                                <th mat-sort-header="view">Date</th>
                                                <th mat-sort-header="Action">Locataires</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoDejaLoue | filter:searchTextBienLoue | paginate:{itemsPerPage :4, currentPage:p2,  id: 'bienLoue'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.photos && BienImmo.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">{{ BienImmo.bien.nom
                                                            ?
                                                            BienImmo.bien.nom : BienImmo.bien.typeImmo.nom }}</a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span [ngClass]="{'unpublish': BienImmo.statut === 'A vendre' }"
                                                        class="status-text">{{BienImmo.statut}}</span></td>
                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                        |
                                                        date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <pagination-controls *ngIf="bienImmo && bienImmo.length > 0" (pageChange)="p2 = $event"
                                    previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                                    previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienLoue"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- fin des biens loues  -->

                <!-- Debut des biens vendus  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('vendu')" id="vendu" role="tabpanel"
                    aria-labelledby="vendu-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <!-- <div class="card-header"> -->
                            <!-- <h4>Mes biens qui sont vendus</h4> -->
                            <!-- <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                                    <i class="fa-solid fa-plus"></i> Ajouter un bien</a> -->
                            <!-- </div> -->
                            <div class="card-body" *ngIf="bienImmoDejaVendu && bienImmoDejaVendu.length > 0">
                                <div class="listing-search">
                                    <h4>Mes biens qui sont vendus</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>
                                    <!-- <div class="sorting-div">
                                        <div class="sortbyset">
                                            <span class="sortbytitle">Trier par</span>
                                            <div class="sorting-select">
                                                <select class="form-control select" [(ngModel)]="searchText">
                                                    <option value="" selected>Tout</option>
                                                    <option>A louer</option>
                                                    <option>A vendre</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="status">Statut</th>
                                                <th mat-sort-header="view">Date</th>
                                                <th mat-sort-header="Action">Acheteurs</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoDejaVendu | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p3,  id: 'bienVendu'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.photos && BienImmo.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                            BienImmo.bien.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span class="status-text"
                                                        style="color: red;">{{BienImmo.statut}}</span></td>
                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                        |
                                                        date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                                <pagination-controls *ngIf="bienImmo && bienImmo.length > 0" (pageChange)="p3 = $event"
                                    previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                                    previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienVendu"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Fin des biens vendus  -->
                <!-- Debut de mes locations  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('location')" id="location" role="tabpanel"
                    aria-labelledby="location-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <div class="card-body"
                                *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0">
                                <div class="listing-search">
                                    <h4>Mes biens que j'ai loue</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="view">Date</th>
                                                <th mat-sort-header="Action">Proprietaires</th>
                                                <th mat-sort-header="status">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoDejaLoueLocataire | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienLocataire'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.photos && BienImmo.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                            BienImmo.bien.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                          |  date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.bien.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.bien.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                                <td>
                                                    <!-- <span class="status-text">
                                                        <button type="button" class="btn btn-primary"
                                                            (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            data-bs-whatever="@fat">Reclamation</button>
                                                    </span> -->
                                                    <div class="action">
                                                        <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                            <span class="hover-text">Faire une reclamation</span>
                                                        </a>
                                                        <a data-bs-toggle="modal"
                                                            (click)="openFactureModalLouer(BienImmo.id)"
                                                            data-bs-target="#staticBackdrop1"
                                                            class="action-btn btn-edit crd"><i
                                                                class="feather-edit-3"></i>
                                                            <span class="hover-text">Facture</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                    <!-- Modal pour faire une reclamation  -->
                                    <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Faire une reclamation
                                                    </h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body" id="modalContent">
                                                    <form>
                                                        <input type="hidden" [(ngModel)]="selectedBienImmoId"
                                                            name="selectedBienImmoId">
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Type de
                                                                probleme <span style="color: red;">*</span></label>
                                                            <div class="pass-group group-img">
                                                                <select [(ngModel)]="form.type" name="type"
                                                                    class="form-control" id="">
                                                                    <option *ngFor="let item of probleme"
                                                                        [value]="item.id">
                                                                        {{ item.nom}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="message-text" class="col-form-label">Description
                                                                de la reclamation <span
                                                                    style="color: red;">*</span></label>
                                                            <textarea name="contenu" [(ngModel)]="form.contenu"
                                                                class="form-control" id="message-text"
                                                                placeholder="Description"></textarea>
                                                        </div>
                                                        <div class="mb-3">
                                                            <div class="row">
                                                                <div class=" featured-img1">
                                                                    <h6 class="media-title">Images biens <span>*</span>
                                                                    </h6>
                                                                    <div class="media-image">
                                                                        <div class="row">
                                                                            <div *ngFor="let imageUrl of image; let i = index"
                                                                                class="col-lg-3 col-md-6 image-container m-1">
                                                                                <img class=" image-size m-3"
                                                                                    [src]="imageUrl"
                                                                                    alt="Image {{ i }}" />
                                                                                <button class="close-button"
                                                                                    (click)="removeImage(i)">
                                                                                    <i
                                                                                        class="fas fa-times close-icon"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="settings-upload-btn">
                                                                    <input type="file" id="photo" name="photo"
                                                                        (change)="onFileSelected($event)" multiple
                                                                        class="hide-input image-upload"
                                                                        [disabled]="maxImageCount >=4" />
                                                                    <label for="file" class="file-upload">Ajouter
                                                                        l'image</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Annuler</button>
                                                    <button type="button" class="btn btn-primary"
                                                        (click)="FaireReclamation()"
                                                        [disabled]="!form.type || form.type.trim() === '' || !form.contenu || form.contenu.trim() === ''">Envoyer</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Modal pour la facture  -->
                                    <div class="modal fade" id="staticBackdrop1" data-bs-backdrop="static"
                                        data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                        aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="facturelocation" #facturelocation>
                                                    <div class="modal-header">
                                                        <h5 style="font-size: 15px; margin-left: auto;"
                                                            class="modal-title text-center" id="staticBackdropLabel">
                                                            Facture a partir de la plateforme
                                                            <span style="color: #e98b11;">Sossara</span>
                                                        </h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <h5 style="font-size: 15px;" class="modal-title text-center"
                                                                id="staticBackdropLabel">Facture du mois
                                                                <span style="color: #e98b11">{{ today | date: 'MMMM
                                                                    YYYY' }}</span>
                                                            </h5>
                                                            <div class="receipt-main ">
                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7">
                                                                        <div class="receipt-left"
                                                                            *ngIf="transaction && transaction.utilisateur">
                                                                            <img class="img-responsive"
                                                                                alt="iamgurdeeposahan"
                                                                                src="{{generateImageUrl(transaction.utilisateur.photo)}}"
                                                                                style="width: 71px; border-radius: 43px;"
                                                                                (error)="handleAuthorImageError($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                {{transaction.bien.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transaction.bien.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transaction.bien.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                {{transaction.utilisateur.nom}} </h5>
                                                                            <p
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transaction.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transaction.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                        <div class="receipt-left">
                                                                            <h5 style="font-size: 15px;"
                                                                                *ngIf="transaction">FACTURE N 00{{
                                                                                transaction.id }}</h5>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div>
                                                                    <table class="table table-bordered mt-3">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th>Description</th>
                                                                                <th>Prix</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="col-md-7"
                                                                                    *ngIf="transaction && transaction.bien && transaction.bien.typeImmo">
                                                                                    {{ transaction.bien.nom ?
                                                                                    transaction.bien.nom :
                                                                                    transaction.bien.typeImmo.nom }}
                                                                                </td>
                                                                                <td class="col-md-5 text-center"
                                                                                    *ngIf="transaction"> {{
                                                                                    formatPrice(transaction.somme) }}
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center"> 0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center">0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-right">
                                                                                    <p>
                                                                                        <strong>Total prix: </strong>
                                                                                    </p>
                                                                                    <p>
                                                                                        <strong>Montant paye:
                                                                                        </strong>
                                                                                    </p>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <p *ngIf="transaction">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                    <p *ngIf="transaction">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>

                                                                                <td class="text-right">
                                                                                    <h2><strong>Total: </strong></h2>
                                                                                </td>
                                                                                <td
                                                                                    class="text-left text-danger text-center">
                                                                                    <h2 *ngIf="transaction"><strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong></h2>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                                <div class="row text-center">
                                                                    <div
                                                                        class="receipt-header receipt-header-mid receipt-footer">
                                                                        <div>
                                                                            <div class="receipt-right">
                                                                                <p><b>Date :</b> {{ today | date: 'dd
                                                                                    MMMM yyyy' }}</p>
                                                                                <h5 style="color: rgb(140, 140, 140);">
                                                                                    Merci pour la confiance.!</h5>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-4 col-sm-4 col-md-4">

                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Retour</button>
                                                    <button type="button" (click)="genererPDFLocation()"
                                                        class="btn btn-primary">Generer la
                                                        facture</button>
                                                    <!-- Indicateur de chargement -->
                                                    <div *ngIf="loading" class="spinner-border text-primary"
                                                        role="status">
                                                        <span class="sr-only">Chargement en cours...</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <pagination-controls
                                    *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0"
                                    (pageChange)="p5 = $event" previousLabel="Précédent" nextLabel="Suivant"
                                    class="pagination" previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienLocataire"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Fin de mes locations  -->
                <!-- Debut des biens achetes  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('achete')" id="achete" role="tabpanel"
                    aria-labelledby="achete-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <div class="card-body" *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0">
                                <div class="listing-search">
                                    <h4>Les biens que j'ai achete</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>

                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="view">Date</th>
                                                <th mat-sort-header="Action">Proprietaires</th>
                                                <th mat-sort-header="status">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoUserAAcheter | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienAcheter'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.bien && BienImmo.bien.photos && BienImmo.bien.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.bien.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                            BienImmo.bien.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                        |
                                                        date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.bien.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.bien.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                                <td>
                                                    <!-- <span class="status-text">
                                                        <button type="button" class="btn btn-primary"
                                                            (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            data-bs-whatever="@fat">Reclamation</button>
                                                    </span> -->
                                                    <div class="action">
                                                        <!-- <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                            <span class="hover-text">Faire une reclamation</span>
                                                        </a> -->
                                                        <a data-bs-toggle="modal"
                                                            (click)="openFactureModalVente(BienImmo.id)"
                                                            data-bs-target="#staticBackdrop2"
                                                            class="action-btn btn-edit crd"><i
                                                                class="feather-edit-3"></i>
                                                            <span class="hover-text">Facture</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                    <!-- Modal pour la facture  -->
                                    <div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static"
                                        data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                        aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="factureachat" #factureachat>
                                                    <div class="modal-header">
                                                        <h5 style="font-size: 15px; margin-left: auto;"
                                                            class="modal-title text-center" id="staticBackdropLabel">
                                                            Facture a partir de la plateforme
                                                            <span style="color: #e98b11;">Sossara</span>
                                                        </h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <h5 style="font-size: 15px;" class="modal-title text-center"
                                                                id="staticBackdropLabel">
                                                                <span style="color: #e98b11;">Achat</span>
                                                            </h5>
                                                            <div class="receipt-main ">
                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7">
                                                                        <div class="receipt-left"
                                                                            *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                            <img class="img-responsive"
                                                                                alt="iamgurdeeposahan"
                                                                                src="{{generateImageUrl(transactionVendue.utilisateur.photo)}}"
                                                                                style="width: 71px; border-radius: 43px;"
                                                                                (error)="handleAuthorImageError($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                {{transactionVendue.bien.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transactionVendue.bien.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transactionVendue.bien.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                {{transactionVendue.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transactionVendue.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transactionVendue.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                        <div class="receipt-left">
                                                                            <h5 style="font-size: 15px;"
                                                                                *ngIf="transactionVendue">FACTURE N 00{{
                                                                                transactionVendue.id }}</h5>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div>
                                                                    <table class="table table-bordered mt-3">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th>Description</th>
                                                                                <th>Prix</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="col-md-7"
                                                                                    *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.typeImmo">
                                                                                    {{ transactionVendue.bien.nom ?
                                                                                    transactionVendue.bien.nom :
                                                                                    transactionVendue.bien.typeImmo.nom
                                                                                    }}
                                                                                </td>
                                                                                <td class="col-md-5 text-center"
                                                                                    *ngIf="transactionVendue"> {{
                                                                                    formatPrice(transactionVendue.somme)
                                                                                    }}
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center"> 0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center">0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-right">
                                                                                    <p>
                                                                                        <strong>Total prix: </strong>
                                                                                    </p>
                                                                                    <p>
                                                                                        <strong>Montant paye:
                                                                                        </strong>
                                                                                    </p>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <p *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                    <p *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>

                                                                                <td class="text-right">
                                                                                    <h2><strong>Total: </strong></h2>
                                                                                </td>
                                                                                <td
                                                                                    class="text-left text-danger text-center">
                                                                                    <h2 *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </h2>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                                <div class="row text-center">
                                                                    <div
                                                                        class="receipt-header receipt-header-mid receipt-footer">
                                                                        <div>
                                                                            <div class="receipt-right">
                                                                                <p><b>Date :</b> {{ today | date: 'dd
                                                                                    MMMM yyyy' }}</p>
                                                                                <h5 style="color: rgb(140, 140, 140);">
                                                                                    Merci pour la confiance.!</h5>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-4 col-sm-4 col-md-4">

                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Retour</button>
                                                    <button type="button" (click)="genererPDFAchat()"
                                                        class="btn btn-primary">Generer la
                                                        facture</button>
                                                    <!-- Indicateur de chargement -->
                                                    <div *ngIf="loading" class="spinner-border text-primary"
                                                        role="status">
                                                        <span class="sr-only">Chargement en cours...</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <pagination-controls *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0"
                                    (pageChange)="p6 = $event" previousLabel="Précédent" nextLabel="Suivant"
                                    class="pagination" previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienAcheter"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Fin des biens achetes  -->
                <!-- Debut des reclamations  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('reclamation')" id="reclamation"
                    role="tabpanel" aria-labelledby="reclamation-tab">
                    <div class="dashboard-content">
                        <div class="container">
                            <div class="row dashboard-info reviewpage-content">
                                <div class="col-lg-6 d-flex"
                                    *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Les reclamations que j'ai fait</h4>
                                            <!-- <div class="card-dropdown">
                                                <ul>
                                                    <li class="nav-item dropdown has-arrow logged-item">
                                                        <a href="#" class="dropdown-toggle pageviews-link"
                                                            data-bs-toggle="dropdown" aria-expanded="false">
                                                            <span>Tout</span>
                                                        </a>
                                                        <div class="dropdown-menu dropdown-menu-end">
                                                            <a class="dropdown-item" href="javascript:void();">Semaine
                                                                passee</a>
                                                            <a class="dropdown-item" href="javascript:void()">Cette
                                                                senaine</a>
                                                            <a class="dropdown-item" href="javascript:void()">Semaine
                                                                prochaine</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div> -->
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box"
                                                            *ngFor="let Reclamation of reclamationUser">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <h6>{{Reclamation.bien.utilisateur.nom}}</h6>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd MMM yyyy":locale}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3">
                                                                    <div class="col" *ngIf="Reclamation && Reclamation.bien && Reclamation.bien.typeImmo">
                                                                        {{Reclamation.bien.nom ? Reclamation.bien.nom :
                                                                            Reclamation.bien.typeImmo.nom}}
                                                                    </div>
                                                                    <div class="col"
                                                                        style="color: #e98b11; font-weight: bold;"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{ formatPrice(Reclamation.bien.prix) }} FCFA
                                                                    </div>
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                            <!-- Répéter 4 fois -->
                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.type_probleme && Reclamation.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-regular fa-circle-exclamation"></i>
                                                                    Probleme : {{Reclamation.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.contenu}}
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                                <!-- Répéter 4 fois -->
                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 d-flex" *ngIf="reclamation && reclamation.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Les reclamations concernant mes biens</h4>
                                            <!-- <div class="card-dropdown">
                                                <ul>
                                                    <li class="nav-item dropdown has-arrow logged-item">
                                                        <a href="#" class="dropdown-toggle pageviews-link"
                                                            data-bs-toggle="dropdown" aria-expanded="false">
                                                            <span>Tout</span>
                                                        </a>
                                                        <div class="dropdown-menu dropdown-menu-end">
                                                            <a class="dropdown-item" href="javascript:void();">Semaine
                                                                passee</a>
                                                            <a class="dropdown-item" href="javascript:void()">Cette
                                                                senaine</a>
                                                            <a class="dropdown-item" href="javascript:void()">Semaine
                                                                prochaine</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div> -->
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box" *ngFor="let Reclamation of reclamation">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <h6>{{Reclamation.utilisateur.nom}}</h6>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd MMM yyyy":locale}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3">
                                                                    <div class="col" *ngIf="Reclamation && Reclamation.bien && Reclamation.bien.typeImmo">
                                                                        {{Reclamation.bien.nom ? Reclamation.bien.nom :
                                                                            Reclamation.bien.typeImmo.nom}}
                                                                    </div>
                                                                    <div class="col"
                                                                        style="color: #e98b11; font-weight: bold;"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{ formatPrice(Reclamation.bien.prix) }} FCFA
                                                                    </div>
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                            <!-- Répéter 4 fois -->
                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.type_probleme && Reclamation.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-circle-exclamation"></i>
                                                                    Probleme : {{Reclamation.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.contenu}}
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                                <!-- Répéter 4 fois -->
                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                                <div class="row mt-3">
                                                                    <div class="col">
                                                                        <button type="button"
                                                                            class="btn btn-outline-danger"><i
                                                                                class="fas fa-times"></i>
                                                                            Annuler</button>
                                                                    </div>
                                                                    <div class="col">
                                                                        <button type="button"
                                                                            class="btn btn-outline-success"
                                                                            (click)="openProcessusModal(Reclamation.bien.id)"
                                                                            data-bs-toggle="modal"
                                                                            href="#exampleModalToggle"><i
                                                                                class="fas fa-check"></i>
                                                                            Accepter</button>
                                                                    </div>
                                                                </div>
                                                                <div class="modal fade" id="exampleModalToggle"
                                                                    aria-hidden="true"
                                                                    aria-labelledby="exampleModalToggleLabel"
                                                                    tabindex="-1">
                                                                    <div class="modal-dialog modal-dialog-centered">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title"
                                                                                    id="exampleModalToggleLabel">
                                                                                    Processus de reparation
                                                                                </h5>
                                                                                <button type="button" class="btn-close"
                                                                                    data-bs-dismiss="modal"
                                                                                    aria-label="Close"></button>
                                                                            </div>
                                                                            <div class="modal-body">
                                                                                <form>
                                                                                    <input type="hidden"
                                                                                        [(ngModel)]="selectedBienImmoProcessusId"
                                                                                        name="selectedBienImmoProcessusId">
                                                                                    <div class="row">
                                                                                        <div class="mb-3">
                                                                                            <label for="recipient-name"
                                                                                                class="col-form-label">Prix
                                                                                                de la reparation
                                                                                                <span
                                                                                                    style="color: red;">*</span></label>
                                                                                            <div
                                                                                                class="pass-group group-img">
                                                                                                <div
                                                                                                    class="pass-group group-img">
                                                                                                    <input type="number"
                                                                                                        pattern="[0-9]"
                                                                                                        name="somme"
                                                                                                        [(ngModel)]="formProcessus.somme"
                                                                                                        class="form-control pass-input"
                                                                                                        required
                                                                                                        aria-required="true"
                                                                                                        placeholder="FCFA" />
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </form>

                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Retour</button>
                                                                                <button class="btn btn-primary"
                                                                                    (click)="LancerProcessusReparation()">Lancer
                                                                                    le processus de reparation</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 d-flex"
                                    *ngIf="reclamationProcessusLance && reclamationProcessusLance.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Processus de reclamations lances</h4>
                                            <!-- <div class="card-dropdown">
                                                <ul>
                                                    <li class="nav-item dropdown has-arrow logged-item">
                                                        <a href="#" class="dropdown-toggle pageviews-link"
                                                            data-bs-toggle="dropdown" aria-expanded="false">
                                                            <span>Tout</span>
                                                        </a>
                                                        <div class="dropdown-menu dropdown-menu-end">
                                                            <a class="dropdown-item" href="javascript:void();">Semaine
                                                                passee</a>
                                                            <a class="dropdown-item" href="javascript:void()">Cette
                                                                senaine</a>
                                                            <a class="dropdown-item" href="javascript:void()">Semaine
                                                                prochaine</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div> -->
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box"
                                                            *ngFor="let Reclamation of reclamationProcessusLance">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="name-and-image">
                                                                    <h6>{{Reclamation.bien.utilisateur.nom}}</h6>
                                                                    <img style="width: 47px;"
                                                                        src="assets/img/processus.gif" alt="">
                                                                </div>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd MMM yyyy":locale}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3" *ngIf="Reclamation && Reclamation.bien && Reclamation.bien.typeImmo">
                        
                                                                        {{Reclamation.bien.nom ? Reclamation.bien.nom :
                                                                        Reclamation.bien.typeImmo.nom}}

                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.probleme && Reclamation.probleme.type_probleme && Reclamation.probleme.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-regular fa-circle-exclamation"></i>
                                                                    Probleme :
                                                                    {{Reclamation.probleme.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.probleme && Reclamation.probleme.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.probleme.contenu}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.bien">Cout : <span
                                                                        style="color: #e98b11; font-weight: bold;">
                                                                        {{ formatPrice(Reclamation.somme) }} FCFA
                                                                    </span>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages1" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages1">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.probleme.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.probleme.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                                <div class="row mt-3">
                                                                    <button type="button" (click)="ArreterProcessus(Reclamation.id)"
                                                                        class="btn btn-outline-success"><i
                                                                            class="fas fa-check"></i>
                                                                        Arreter le processus</button>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="row dashboard-info reviewpage-content mt-5"> -->
                            <!-- <div class="col-lg-6 d-flex"
                                    *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Processus de reclamations lances</h4>
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box"
                                                            *ngFor="let Reclamation of reclamationUser">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="name-and-image">
                                                                    <h6>{{Reclamation.bien.utilisateur.nom}}</h6>
                                                                    <img style="width: 47px;"
                                                                        src="assets/img/processus.gif" alt="">
                                                                </div>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd/MM/yyyy"}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3">
                                                                    <div class="col"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{Reclamation.bien.nom}}
                                                                    </div>
                                                                    <div class="col"
                                                                        style="color: #e98b11; font-weight: bold;"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{ formatPrice(Reclamation.bien.prix) }} FCFA
                                                                    </div>
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.type_probleme && Reclamation.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-regular fa-circle-exclamation"></i>
                                                                    Probleme : {{Reclamation.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.contenu}}
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                            <!-- <div class="col-lg-6 d-flex">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Processus de reclamations lances</h4>
                                            <div class="card-dropdown">
                                                <ul>
                                                    <li class="nav-item dropdown has-arrow logged-item">
                                                        <a href="#" class="dropdown-toggle pageviews-link"
                                                            data-bs-toggle="dropdown" aria-expanded="false">
                                                            <span>Tout</span>
                                                        </a>
                                                        <div class="dropdown-menu dropdown-menu-end">
                                                            <a class="dropdown-item" href="javascript:void();">Semaine
                                                                passee</a>
                                                            <a class="dropdown-item" href="javascript:void()">Cette
                                                                senaine</a>
                                                            <a class="dropdown-item" href="javascript:void()">Semaine
                                                                prochaine</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box" *ngFor="let Reclamation of reclamation">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <h6>{{Reclamation.utilisateur.nom}}</h6>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd/MM/yyyy"}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3">
                                                                    <div class="col"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{Reclamation.bien.nom}}
                                                                    </div>
                                                                    <div class="col"
                                                                        style="color: #e98b11; font-weight: bold;"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{ formatPrice(Reclamation.bien.prix) }} FCFA
                                                                    </div>
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                            
                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.type_probleme && Reclamation.type_probleme.nom">
                                                                        <i style="color: #e98b11; font-weight: bold;" class="fa-solid fa-circle-exclamation"></i>
                                                                    Probleme : {{Reclamation.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.contenu}}
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                                
                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                                <div class="row mt-3">
                                                                    <div class="col">
                                                                        <button type="button"
                                                                            class="btn btn-outline-danger"><i
                                                                                class="fas fa-times"></i>
                                                                            Annuler</button>
                                                                    </div>
                                                                    <div class="col">
                                                                        <button type="button"
                                                                            class="btn btn-outline-success"
                                                                            (click)="openProcessusModal(Reclamation.bien.id)"
                                                                            data-bs-toggle="modal"
                                                                            href="#exampleModalToggle"><i
                                                                                class="fas fa-check"></i>
                                                                            Accepter</button>
                                                                    </div>
                                                                </div>
                                                                <div class="modal fade" id="exampleModalToggle"
                                                                    aria-hidden="true"
                                                                    aria-labelledby="exampleModalToggleLabel"
                                                                    tabindex="-1">
                                                                    <div class="modal-dialog modal-dialog-centered">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h5 class="modal-title"
                                                                                    id="exampleModalToggleLabel">
                                                                                    Processus de reparation
                                                                                </h5>
                                                                                <button type="button" class="btn-close"
                                                                                    data-bs-dismiss="modal"
                                                                                    aria-label="Close"></button>
                                                                            </div>
                                                                            <div class="modal-body">
                                                                                <form>
                                                                                    <input type="hidden"
                                                                                        [(ngModel)]="selectedBienImmoProcessusId"
                                                                                        name="selectedBienImmoProcessusId">
                                                                                    <div class="row">
                                                                                        <div class="col">
                                                                                            <div class="mb-3">
                                                                                                <label
                                                                                                    for="recipient-name"
                                                                                                    class="col-form-label">Type
                                                                                                    de
                                                                                                    problemes <span
                                                                                                        style="color: red;">*</span></label>
                                                                                                <div
                                                                                                    class="pass-group group-img">
                                                                                                    <select
                                                                                                        [(ngModel)]="formProcessus.type"
                                                                                                        name="type"
                                                                                                        class="form-control"
                                                                                                        id="">
                                                                                                        <option
                                                                                                            *ngFor="let item of probleme"
                                                                                                            [value]="item.id">
                                                                                                            {{
                                                                                                            item.nom}}
                                                                                                        </option>
                                                                                                    </select>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col">
                                                                                            <div class="mb-3">
                                                                                                <label
                                                                                                    for="recipient-name"
                                                                                                    class="col-form-label">Prix
                                                                                                    de la reparation
                                                                                                    <span
                                                                                                        style="color: red;">*</span></label>
                                                                                                <div
                                                                                                    class="pass-group group-img">
                                                                                                    <div
                                                                                                        class="pass-group group-img">
                                                                                                        <input
                                                                                                            type="number"
                                                                                                            pattern="[0-9]"
                                                                                                            name="somme"
                                                                                                            [(ngModel)]="formProcessus.somme"
                                                                                                            class="form-control pass-input"
                                                                                                            required
                                                                                                            aria-required="true"
                                                                                                            placeholder="FCFA" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </form>

                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Retour</button>
                                                                                <button class="btn btn-primary"
                                                                                    (click)="LancerProcessusReparation()">Lancer
                                                                                    le processus de reparation</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
                <!-- Fin des reclamations  -->
            </div>
        </div>
        <!-- Fin AGENCE ET PROPRIETAIRE  -->
        <!-- Debut LOCATAIRE  -->
        <div class="container card shadow d-flex justify-content-center mt-5" *ngIf="isLocataire==true">
            <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" [class.active]="isTabActive('home')" (click)="changeTab('home')"
                        id="home-tab" data-toggle="tab" role="tab" aria-controls="home" aria-selected="true">Mes
                        locations</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="achete-tab" data-toggle="tab"
                        [class.active]="isTabActive('achete')" (click)="changeTab('achete')" role="tab"
                        aria-controls="achete" aria-selected="false">Biens achetes</a>
                </li>
                <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="reclamation-tab" data-toggle="tab"
                        [class.active]="isTabActive('reclamation')" (click)="changeTab('reclamation')" role="tab"
                        aria-controls="reclamation" aria-selected="false">Mes reclamations</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <!-- Debut de mes locations  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('home')" id="home" role="tabpanel"
                    aria-labelledby="location-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <div class="card-body"
                                *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0">
                                <div class="listing-search">
                                    <h4>Les biens que j'ai loue</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="date">Date</th>
                                                <th mat-sort-header="Action">Proprietaires</th>
                                                <th mat-sort-header="status">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoDejaLoueLocataire | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienLocataire'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.photos && BienImmo.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                            BienImmo.bien.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>

                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                        |
                                                        date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.bien.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.bien.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                                <td>
                                                    <!-- <span class="status-text">
                                                        <button type="button" class="btn btn-primary"
                                                            (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            data-bs-whatever="@fat">Reclamation</button>
                                                    </span> -->

                                                    <div class="action">
                                                        <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                            <span class="hover-text">Faire une reclamation</span>
                                                        </a>
                                                        <a data-bs-toggle="modal"
                                                            (click)="openFactureModalLouer(BienImmo.id)"
                                                            data-bs-target="#exampleModal1"
                                                            class="action-btn btn-edit crd"><i
                                                                class="feather-edit-3"></i>
                                                            <span class="hover-text">Facture</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                    <!-- Modal pour faire une reclamation  -->
                                    <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Faire une reclamation
                                                    </h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body" id="modalContent">
                                                    <form>
                                                        <input type="hidden" [(ngModel)]="selectedBienImmoId"
                                                            name="selectedBienImmoId">
                                                        <div class="mb-3">
                                                            <label for="recipient-name" class="col-form-label">Type de
                                                                probleme <span style="color: red;">*</span></label>
                                                            <div class="pass-group group-img">
                                                                <select [(ngModel)]="form.type" name="type"
                                                                    class="form-control" id="">
                                                                    <option *ngFor="let item of probleme"
                                                                        [value]="item.id">
                                                                        {{ item.nom}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="message-text" class="col-form-label">Description
                                                                de la reclamation <span
                                                                    style="color: red;">*</span></label>
                                                            <textarea name="contenu" [(ngModel)]="form.contenu"
                                                                class="form-control" id="message-text"
                                                                placeholder="Description"></textarea>
                                                        </div>
                                                        <div class="mb-3">
                                                            <div class="row">
                                                                <div class=" featured-img1">
                                                                    <h6 class="media-title">Images biens <span>*</span>
                                                                    </h6>
                                                                    <div class="media-image">
                                                                        <div class="row">
                                                                            <div *ngFor="let imageUrl of image; let i = index"
                                                                                class="col-lg-3 col-md-6 image-container m-1">
                                                                                <img class=" image-size m-3"
                                                                                    [src]="imageUrl"
                                                                                    alt="Image {{ i }}" />
                                                                                <button class="close-button"
                                                                                    (click)="removeImage(i)">
                                                                                    <i
                                                                                        class="fas fa-times close-icon"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="settings-upload-btn">
                                                                    <input type="file" id="photo" name="photo"
                                                                        (change)="onFileSelected($event)" multiple
                                                                        class="hide-input image-upload"
                                                                        [disabled]="maxImageCount >=4" />
                                                                    <label for="file" class="file-upload">Ajouter
                                                                        l'image</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Annuler</button>
                                                    <button type="button" class="btn btn-primary"
                                                        (click)="FaireReclamation()">Envoyer</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Modal pour la facture  -->
                                    <div class="modal fade" id="exampleModal1" data-bs-backdrop="static"
                                        data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                        aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="facturelocation" #facturelocation>
                                                    <div class="modal-header">
                                                        <h5 style="font-size: 15px; margin-left: auto;"
                                                            class="modal-title text-center" id="staticBackdropLabel">
                                                            Facture a partir de la plateforme
                                                            <span style="color: #e98b11;">Sossara</span>
                                                        </h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <h5 style="font-size: 15px;" class="modal-title text-center"
                                                                id="staticBackdropLabel">Facture du mois
                                                                <span style="color: #e98b11">{{ today | date: 'MMMM
                                                                    YYYY' }}</span>
                                                            </h5>
                                                            <div class="receipt-main ">
                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7">
                                                                        <div class="receipt-left"
                                                                            *ngIf="transaction && transaction.utilisateur">
                                                                            <img class="img-responsive"
                                                                                alt="iamgurdeeposahan"
                                                                                src="{{generateImageUrl(transaction.utilisateur.photo)}}"
                                                                                style="width: 71px; border-radius: 43px;"
                                                                                (error)="handleAuthorImageError($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                {{transaction.bien.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transaction.bien.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transaction.bien.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                {{transaction.utilisateur.nom}} </h5>
                                                                            <p
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transaction.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transaction && transaction.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transaction.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                        <div class="receipt-left">
                                                                            <h5 style="font-size: 15px;"
                                                                                *ngIf="transaction">FACTURE N 00{{
                                                                                transaction.id }}</h5>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div>
                                                                    <table class="table table-bordered mt-3">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th>Description</th>
                                                                                <th>Prix</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="col-md-7"
                                                                                    *ngIf="transaction && transaction.bien && transaction.bien.typeImmo">
                                                                                    {{ transaction.bien.nom ?
                                                                                    transaction.bien.nom :
                                                                                    transaction.bien.typeImmo.nom }}
                                                                                </td>
                                                                                <td class="col-md-5 text-center"
                                                                                    *ngIf="transaction"> {{
                                                                                    formatPrice(transaction.somme) }}
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center"> 0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center">0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-right">
                                                                                    <p>
                                                                                        <strong>Total prix: </strong>
                                                                                    </p>
                                                                                    <p>
                                                                                        <strong>Montant paye:
                                                                                        </strong>
                                                                                    </p>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <p *ngIf="transaction">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                    <p *ngIf="transaction">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>

                                                                                <td class="text-right">
                                                                                    <h2><strong>Total: </strong></h2>
                                                                                </td>
                                                                                <td
                                                                                    class="text-left text-danger text-center">
                                                                                    <h2 *ngIf="transaction"><strong>
                                                                                            {{
                                                                                            formatPrice(transaction.somme)
                                                                                            }} FCFA</strong></h2>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                                <div class="row text-center">
                                                                    <div
                                                                        class="receipt-header receipt-header-mid receipt-footer">
                                                                        <div>
                                                                            <div class="receipt-right">
                                                                                <p><b>Date :</b> {{ today | date: 'dd
                                                                                    MMMM yyyy' }}</p>
                                                                                <h5 style="color: rgb(140, 140, 140);">
                                                                                    Merci pour la confiance.!</h5>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-4 col-sm-4 col-md-4">

                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Retour</button>
                                                    <button type="button" (click)="genererPDFLocation()"
                                                        class="btn btn-primary">Generer la
                                                        facture</button>
                                                    <!-- Indicateur de chargement -->
                                                    <div *ngIf="loading" class="spinner-border text-primary"
                                                        role="status">
                                                        <span class="sr-only">Chargement en cours...</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <pagination-controls
                                    *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0"
                                    (pageChange)="p5 = $event" previousLabel="Précédent" nextLabel="Suivant"
                                    class="pagination" previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienLocataire"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- fin de mes locations -->
                <!-- Debut des biens achetes  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('achete')" id="achete" role="tabpanel"
                    aria-labelledby="achete-tab">
                    <div class="dash-listingcontent dashboard-info">
                        <div class="dash-cards card">
                            <div class="card-body" *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0">
                                <div class="listing-search">
                                    <h4>Les biens que j'ai achete</h4>
                                    <div class="filter-content form-group">
                                        <div class="group-img">
                                            <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                                placeholder="Recherche...">
                                            <i class="feather-search"></i>
                                        </div>
                                    </div>

                                </div>
                                <div class="table-responsive">
                                    <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                        id="listdata-table">
                                        <thead>
                                            <tr>
                                                <th mat-sort-header="img" class="no-sort">Image</th>
                                                <th mat-sort-header="details" class="no-sort">Details</th>
                                                <th mat-sort-header="view">Date</th>
                                                <th mat-sort-header="Action">Proprietaires</th>
                                                <th mat-sort-header="status">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr
                                                *ngFor="let BienImmo of bienImmoUserAAcheter | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienAcheter'}">
                                                <td>
                                                    <div class="listingtable-img">
                                                        <a (click)="goToDettailBien(BienImmo.id)">
                                                            <div
                                                                *ngIf="BienImmo.bien && BienImmo.bien.photos && BienImmo.bien.photos.length > 0; else noImages">
                                                                <img src="{{ generateImageUrl(BienImmo.bien.photos[0].nom) }}"
                                                                    class="img-fluid image-size" alt="blog-img">
                                                            </div>
                                                            <ng-template #noImages>
                                                                <img src="{{ DEFAULT_IMAGE_URL }}"
                                                                    class="img-fluid image-size" alt="default-img">
                                                            </ng-template>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                            (click)="goToDettailBien(BienImmo.id)">
                                                            {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                            BienImmo.bien.typeImmo.nom }}
                                                        </a>
                                                    </h6>
                                                    <div class="listingtable-rate">
                                                        <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                            href="javascript:void(0)" class="cat-icon">
                                                            <i class="fa-regular fa-circle-stop"></i>
                                                            {{BienImmo.bien.typeImmo.nom}}
                                                        </a> <span class="discount-amt"
                                                            *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                            formatPrice(BienImmo.bien.prix) }}
                                                            FCFA</span>

                                                    </div>
                                                    <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                        {{BienImmo.bien.adresse.commune.region.pays.nom}} -
                                                        {{BienImmo.bien.adresse.commune.region.nom}} -
                                                        {{BienImmo.bien.adresse.commune.nom}} -
                                                        {{BienImmo.bien.adresse.quartier}}
                                                    </p>
                                                </td>
                                                <td><span class="views-count"
                                                        *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                        |
                                                        date:"dd MMM yyyy":locale}}</span></td>
                                                <td>
                                                    <ul class="review-list">
                                                        <li class="review-box">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(BienImmo.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="tes">
                                                                    <div class="views-count">
                                                                        {{BienImmo.bien.utilisateur.nom}}</div>
                                                                </div>
                                                                <div>Tel : {{BienImmo.bien.utilisateur.telephone}}</div>
                                                                <!-- <p>ffff</p>																	 -->
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </td>
                                                <td>
                                                    <!-- <span class="status-text">
                                                        <button type="button" class="btn btn-primary"
                                                            (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            data-bs-whatever="@fat">Reclamation</button>
                                                    </span> -->
                                                    <div class="action">
                                                        <!-- <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                            data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                            class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                            <span class="hover-text">Faire une reclamation</span>
                                                        </a> -->
                                                        <a data-bs-toggle="modal"
                                                            (click)="openFactureModalVente(BienImmo.id)"
                                                            data-bs-target="#staticBackdrop3"
                                                            class="action-btn btn-edit crd"><i
                                                                class="feather-edit-3"></i>
                                                            <span class="hover-text">Facture</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                    <!-- Modal pour la facture  -->
                                    <div class="modal fade" id="staticBackdrop3" data-bs-backdrop="static"
                                        data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                        aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">

                                                <div class="factureachat" #factureachat>
                                                    <div class="modal-header">
                                                        <h5 style="font-size: 15px; margin-left: auto;"
                                                            class="modal-title text-center" id="staticBackdropLabel">
                                                            Facture a partir de la plateforme
                                                            <span style="color: #e98b11;">Sossara</span>
                                                        </h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <h5 style="font-size: 15px;" class="modal-title text-center"
                                                                id="staticBackdropLabel">
                                                                <span style="color: #e98b11;">Achat</span>
                                                            </h5>
                                                            <div class="receipt-main ">
                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7">
                                                                        <div class="receipt-left"
                                                                            *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                            <img class="img-responsive"
                                                                                alt="iamgurdeeposahan"
                                                                                src="{{generateImageUrl(transactionVendue.utilisateur.photo)}}"
                                                                                style="width: 71px; border-radius: 43px;"
                                                                                (error)="handleAuthorImageError($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                {{transactionVendue.bien.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transactionVendue.bien.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transactionVendue.bien.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                        <div class="receipt-right">
                                                                            <h5
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                {{transactionVendue.utilisateur.nom}}
                                                                            </h5>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                <b>Mobile :</b>
                                                                                {{transactionVendue.utilisateur.telephone}}
                                                                            </p>
                                                                            <p
                                                                                *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                                <b>Email :</b>
                                                                                {{transactionVendue.utilisateur.email}}
                                                                            </p>
                                                                            <p><b>Address :</b> New York, USA</p>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                        <div class="receipt-left">
                                                                            <h5 style="font-size: 15px;"
                                                                                *ngIf="transactionVendue">FACTURE N 00{{
                                                                                transactionVendue.id }}</h5>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                                <div>
                                                                    <table class="table table-bordered mt-3">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th>Description</th>
                                                                                <th>Prix</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td class="col-md-7"
                                                                                    *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.typeImmo">
                                                                                    {{ transactionVendue.bien.nom ?
                                                                                    transactionVendue.bien.nom :
                                                                                    transactionVendue.bien.typeImmo.nom
                                                                                    }}
                                                                                </td>
                                                                                <td class="col-md-5 text-center"
                                                                                    *ngIf="transactionVendue"> {{
                                                                                    formatPrice(transactionVendue.somme)
                                                                                    }}
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center"> 0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="col-md-7">Prix du bien</td>
                                                                                <td class="col-md-5 text-center">0000
                                                                                    FCFA
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="text-right">
                                                                                    <p>
                                                                                        <strong>Total prix: </strong>
                                                                                    </p>
                                                                                    <p>
                                                                                        <strong>Montant paye:
                                                                                        </strong>
                                                                                    </p>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <p *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                    <p *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </p>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>

                                                                                <td class="text-right">
                                                                                    <h2><strong>Total: </strong></h2>
                                                                                </td>
                                                                                <td
                                                                                    class="text-left text-danger text-center">
                                                                                    <h2 *ngIf="transactionVendue">
                                                                                        <strong>
                                                                                            {{
                                                                                            formatPrice(transactionVendue.somme)
                                                                                            }} FCFA</strong>
                                                                                    </h2>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                                <div class="row text-center">
                                                                    <div
                                                                        class="receipt-header receipt-header-mid receipt-footer">
                                                                        <div>
                                                                            <div class="receipt-right">
                                                                                <p><b>Date :</b> {{ today | date: 'dd
                                                                                    MMMM yyyy' }}</p>
                                                                                <h5 style="color: rgb(140, 140, 140);">
                                                                                    Merci pour la confiance.!</h5>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-4 col-sm-4 col-md-4">

                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Retour</button>
                                                    <button type="button" (click)="genererPDFAchat()"
                                                        class="btn btn-primary">Generer la
                                                        facture</button>
                                                    <!-- Indicateur de chargement -->
                                                    <div *ngIf="loading" class="spinner-border text-primary"
                                                        role="status">
                                                        <span class="sr-only">Chargement en cours...</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <pagination-controls *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0"
                                    (pageChange)="p6 = $event" previousLabel="Précédent" nextLabel="Suivant"
                                    class="pagination" previousClass="pagination__previous" nextClass="pagination__next"
                                    containerClass="pagination__container" pageClass="pagination__page"
                                    activeClassName="pagination__page--active"
                                    disabledClass="pagination__page--disabled" id="bienAcheter"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Fin des biens achetes  -->
                <!-- Debut des reclamations  -->
                <div class="tab-pane fade show" [class.active]="isTabActive('reclamation')" id="reclamation"
                    role="tabpanel" aria-labelledby="reclamation-tab">
                    <div class="dashboard-content">
                        <div class="container">
                            <div class="row dashboard-info reviewpage-content">
                                <div class="col-lg-6 d-flex" *ngIf="reclamationUser && reclamationUser.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Les reclamations que j'ai fait</h4>
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box"
                                                            *ngFor="let Reclamation of reclamationUser | paginate:{itemsPerPage :2, currentPage:p8,  id: 'mesreclamation'}">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <h6>{{Reclamation.bien.utilisateur.nom}}</h6>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt">
                                                                        <i style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd MMM yyyy":locale}}
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt">
                                                                        <i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3">
                                                                    <div class="col"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{Reclamation.bien.nom}}
                                                                    </div>
                                                                    <div class="col"
                                                                        style="color: #e98b11; font-weight: bold;"
                                                                        *ngIf="Reclamation && Reclamation.bien">
                                                                        {{ formatPrice(Reclamation.bien.prix) }}
                                                                        FCFA
                                                                    </div>
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                            <!-- Répéter 4 fois -->
                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.type_probleme && Reclamation.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-circle-exclamation"></i>
                                                                    Probleme : {{Reclamation.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.contenu}}
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">
                                                                                <!-- Répéter 4 fois -->
                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-lg-6 d-flex"
                                    *ngIf="reclamationProcessusLance && reclamationProcessusLance.length > 0">
                                    <div class="card dash-cards w-100">
                                        <div class="card-header">
                                            <h4>Processus de reclamations lances</h4>
                                            <!-- <div class="card-dropdown">
                                                <ul>
                                                    <li class="nav-item dropdown has-arrow logged-item">
                                                        <a href="#" class="dropdown-toggle pageviews-link"
                                                            data-bs-toggle="dropdown" aria-expanded="false">
                                                            <span>Tout</span>
                                                        </a>
                                                        <div class="dropdown-menu dropdown-menu-end">
                                                            <a class="dropdown-item" href="javascript:void();">Semaine
                                                                passee</a>
                                                            <a class="dropdown-item" href="javascript:void()">Cette
                                                                senaine</a>
                                                            <a class="dropdown-item" href="javascript:void()">Semaine
                                                                prochaine</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div> -->
                                        </div>
                                        <div class="ligne">
                                            <div class="card-body">
                                                <div id="review-chart">
                                                    <ul class="review-list">
                                                        <li class="review-box"
                                                            *ngFor="let Reclamation of reclamationProcessusLance">
                                                            <div class="review-profile">
                                                                <div class="review-img">
                                                                    <img src="{{generateImageUrl(Reclamation.bien.utilisateur.photo)}}"
                                                                        class="img-fluid" alt="img"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="review-details">
                                                                <div class="name-and-image">
                                                                    <h6>{{Reclamation.bien.utilisateur.nom}}</h6>
                                                                    <img style="width: 47px;"
                                                                        src="assets/img/processus.gif" alt="">
                                                                </div>
                                                                <div class="rating">
                                                                    <div class="rating-star">
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                        <i class="fas fa-star filled"></i>
                                                                    </div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            style="color: #e98b11; font-weight: bold;"
                                                                            class="fa-sharp fa-solid fa-calendar-days"></i>
                                                                        {{Reclamation.createdAt.date
                                                                        |
                                                                        date:"dd MMM yyyy":locale}}</div>
                                                                    <div *ngIf="Reclamation && Reclamation.createdAt"><i
                                                                            class="fa-sharp fa-solid fa-clock"></i>{{Reclamation.createdAt.date
                                                                        |
                                                                        date:"HH:mm"}}
                                                                    </div>
                                                                </div>
                                                                <div class="row mb-3" *ngIf="Reclamation && Reclamation.bien">
                                                                        {{Reclamation.bien.nom}}
                                                                </div>
                                                                <ul class="review-gallery">
                                                                    <li
                                                                        *ngFor="let photo of Reclamation.bien.photos.slice(0, 4); let i = index">
                                                                        <img class="img-fluid" alt="Image"
                                                                            [src]="generateImageUrl(photo.nom)">
                                                                    </li>
                                                                    <ng-container
                                                                        *ngIf="Reclamation.bien.photos.length === 0">
                                                                        <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                            <img class="img-fluid"
                                                                                alt="Image par défaut"
                                                                                src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                        </li>
                                                                    </ng-container>
                                                                </ul>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.probleme && Reclamation.probleme.type_probleme && Reclamation.probleme.type_probleme.nom">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-regular fa-circle-exclamation"></i>
                                                                    Probleme :
                                                                    {{Reclamation.probleme.type_probleme.nom}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.probleme && Reclamation.probleme.contenu">
                                                                    <i style="color: #e98b11; font-weight: bold;"
                                                                        class="fa-solid fa-check"></i>
                                                                    Motif : {{Reclamation.probleme.contenu}}
                                                                </div>
                                                                <div class="m-3"
                                                                    *ngIf="Reclamation && Reclamation.bien">Cout : <span
                                                                        style="color: #e98b11; font-weight: bold;">
                                                                        {{ formatPrice(Reclamation.somme) }} FCFA
                                                                    </span>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <p class="blog-category">
                                                                            <a data-bs-toggle="collapse"
                                                                                href="#quelquesimages1" role="button"
                                                                                aria-expanded="false"
                                                                                aria-controls="collapseExample"><span>Quelques
                                                                                    images</span></a>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="collapse" id="quelquesimages1">
                                                                    <ul class="review-gallery">
                                                                        <li
                                                                            *ngFor="let photo of Reclamation.probleme.photoReclamations.slice(0, 4); let i = index">
                                                                            <img class="img-fluid" alt="Image"
                                                                                [src]="generateImageUrl(photo.nom)">
                                                                        </li>
                                                                        <ng-container
                                                                            *ngIf="Reclamation.probleme.photoReclamations.length === 0">
                                                                            <li *ngFor="let _ of [1, 2, 3, 4]">

                                                                                <img class="img-fluid"
                                                                                    alt="Image par défaut"
                                                                                    src="assets/img/gallery/gallery1/gallery-1.jpg">
                                                                            </li>
                                                                        </ng-container>
                                                                    </ul>
                                                                </div>
                                                                <div class="row mt-3">
                                                                    <button type="button" (click)="ArreterProcessus(Reclamation.id)"
                                                                        class="btn btn-outline-success"><i
                                                                            class="fas fa-check"></i>
                                                                        Arreter le processus</button>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Fin des reclamations  -->
            </div>
        </div>
        <!-- Fin LOCATAIRE  -->
        <!-- <div class="dash-listingcontent dashboard-info">
            <div class="dash-cards card">
                <div class="card-header">
                    <h4>Mes biens</h4>
                    <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                        <i class="fa-solid fa-plus"></i> Ajouter un bien</a>
                </div>
                <div class="card-body">
                    <div class="listing-search">
                        <div class="filter-content form-group">
                            <div class="group-img">
                                <input [(ngModel)]="searchText" type="text" class="form-control" placeholder="Recherche...">
                                <i class="feather-search"></i>
                            </div>
                        </div>
                        <div class="sorting-div">
                            <div class="sortbyset">
                                <span class="sortbytitle">Trier par</span>
                                <div class="sorting-select">
                                    <select class="form-control select"  [(ngModel)]="searchText">
                                        <option value="" selected>Tout</option>
                                        <option>A louer</option>
                                        <option>A vendre</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                            id="listdata-table">
                            <thead>
                                <tr>
                                    <th mat-sort-header="img" class="no-sort">Image</th>
                                    <th mat-sort-header="details" class="no-sort">Details</th>
                                    <th mat-sort-header="status">Statut</th>
                                    <th mat-sort-header="view">Vues</th>
                                    <th mat-sort-header="Action">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let BienImmo of bienImmo | filter:searchText | paginate:{itemsPerPage :4, currentPage:p}">
                                    <td>
                                        <div class="listingtable-img"> <a (click)="goToDettailBien(BienImmo.id)"><img
                                                    class="img-fluid avatar-img"
                                                    src="assets/img/gallery/gallery1/gallery-1.jpg" alt=""></a></div>
                                    </td>
                                    <td>
                                        <h6><a (click)="goToDettailBien(BienImmo.id)">{{BienImmo.description}}</a></h6>
                                        <div class="listingtable-rate">
                                            <a href="javascript:void(0)" class="cat-icon">
                                                <i class="fa-regular fa-circle-stop"></i> {{BienImmo.typeImmo.nom}}
                                            </a> <span class="discount-amt">{{ formatPrice(BienImmo.prix) }} FCFA</span>
                                           
                                        </div>
                                        <p>{{BienImmo.adresse.commune.region.pays.nom}} - {{BienImmo.adresse.commune.region.nom}} - {{BienImmo.adresse.commune.nom}} - {{BienImmo.adresse.quartier}}</p>
                                    </td>
                                    <td><span [ngClass]="{'unpublish': BienImmo.statut === 'A vendre' }"
                                            class="status-text">{{BienImmo.statut}}</span></td>
                                    <td><span class="views-count">200</span></td>
                                    <td>
                                        <div class="action">
                                            <a (click)="goToDettailBien(BienImmo.id)" class="action-btn btn-view"><i
                                                    class="feather-eye"></i></a>
                                            <a href="javascript:void(0)" class="action-btn btn-edit"><i
                                                    class="feather-edit-3"></i></a>
                                            <a href="javascript:void(0)" class="action-btn btn-trash"><i
                                                    class="feather-trash-2"></i></a>

                                        </div>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <pagination-controls *ngIf="bienImmo && bienImmo.length > 0" (pageChange)="p = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                        previousClass="pagination__previous" nextClass="pagination__next" containerClass="pagination__container"
                        pageClass="pagination__page" activeClassName="pagination__page--active"
                        disabledClass="pagination__page--disabled"></pagination-controls>
                </div>
            </div>
        </div> -->
    </div>
</div>
<!-- /Dashboard Content -->