<div class="card dash-cards w-100">
    <div class="card-header">
        <h4>Mes candidatures</h4>
        <div class="card-dropdown">
            <ul>
                <li class="nav-item dropdown has-arrow logged-item">
                    <a href="#" class="dropdown-toggle pageviews-link" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <span>Tout</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item" href="javascript:void(0)">Semaine passee</a>
                        <a class="dropdown-item" href="javascript:void(0)">Cette senaine</a>
                        <a class="dropdown-item" href="javascript:void(0)">Semaine prochaine</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="ligne">
        <div class="card-body">
            <ul class="review-list">
                <ng-container *ngIf="
                candidature && candidature.length > 0;else noCandidatureAcc">
                    <!-- <li class="review-box" *ngFor="let Candidature of candidature">

                        <div class="review-profile">
                            <div class="review-img">
                                <img src="{{generateImageUrl(Candidature?.bien?.proprietaire?.photo?.nom)}}"
                                    class="img-fluid" alt="img" (error)="handleAuthorImageError($event)">
                            </div>
                        </div>
                        <div class="review-details">
                            <h6>{{Candidature?.bien?.proprietaire?.nom}}</h6>
                            <div class="rating">
                              
                                <div><i class="fa-sharp fa-solid fa-calendar-days"></i>
                                    {{Candidature?.createdAt |
                                    date:"dd MMM yyyy":locale}}</div>
                                <div><i class="fa-sharp fa-solid fa-clock"></i>{{Candidature?.createdAt
                                    |
                                    date:"HH:mm"}}</div>
                            </div>
                            <div class="row mb-3">
                                {{Candidature?.bien?.nom}}
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class="blog-category">
                                        <a
                                            href="javascript:void(0)"><span>{{Candidature?.bien?.statut?.nom}}</span></a>
                                    </p>
                                </div>
                                <div class="col">
                                    <p style="color: #e98b11; font-weight: bold;">{{
                                        formatPrice(Candidature?.bien?.prix) }} FCFA</p>
                                </div>

                            </div>

                            <ul class="review-gallery">
                                <li
                                    *ngFor="let photo of Candidature?.bien?.photoImmos?.slice(0, 4); let i = index">
                                    <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)">
                                </li>
                                <ng-container *ngIf="Candidature?.bien?.photoImmos?.length === 0">
                                    <li *ngFor="let _ of [1, 2, 3, 4]">
                                        <img class="img-fluid" alt="Image par défaut"
                                            src="assets/img/gallery/gallery1/gallery-1.jpg">
                                    </li>
                                </ng-container>
                            </ul>
                            <div class="row mt-3">
                               
                            </div>
                        </div>
                    </li> -->
                    <div class="table-responsive" >
                        <table  class="listing-table datatable" id="listdata-table">
                          <thead>
                            <tr>
                              <th  class="no-sort">Propriétaire</th>
                              <th  class="no-sort">
                                Référence du bien
                              </th>
                              <th >Date & Heure</th>
                              <!-- <th >Heure</th> -->
                              <th >Statuts</th>
                              <th >Etat</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="
                               let candidature of candidature
                             ">
                              <td>
                                <div>
                                  <a  >
                                   
                                    <h6>{{candidature?.bien?.proprietaire?.nom}}</h6>
                                  </a>
                                </div>
                                
                              </td>
                              <td>
                                <h6 *ngIf="candidature?.bien && candidature?.bien?.typeImmo">
                                    <a style="cursor: pointer;"
                                    (click)="goToDettailBien(candidature.bien.uuid)">
                                    {{
                                    candidature?.bien?.reference
                                    }}
                                  </a>
                                </h6>
                                <div class="listingtable-rate">
                                  <a *ngIf="candidature?.bien && candidature?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                                    <i class="fa-regular fa-circle-stop"></i>
                                    {{ candidature?.bien?.typeImmo?.nom }}
                                  </a>
                                  <span class="discount-amt" *ngIf="candidature?.bien && candidature?.bien?.prix">{{
                                    formatPrice(candidature?.bien?.prix) }} FCFA</span>
                                </div>
                               
                              </td>
          
                              <td>
                                <span class="views-count" *ngIf="candidature && candidature?.createdAt">{{
                                  candidature?.createdAt | date : "dd MMM yyyy" : locale
                                  }} à {{candidature?.updatedAt
                                    |
                                    date:"HH:mm"}}</span>
                              </td>
                             
                              <td *ngIf="candidature?.bien?.statut?.nom === 'A vendre'">
                                <span [ngClass]="{
                                   unpublish: candidature?.bien?.statut?.nom === 'A vendre'
                                 }" class="status-text">Vente</span>
                              </td>
                              <td *ngIf="candidature?.bien?.statut?.nom === 'A louer'">
                                <span [ngClass]="{
                                   unpublish: candidature?.bien?.statut?.nom === 'A vendre'
                                 }" class="status-text">Location</span>
                              </td>
                              <td>
                               
          
                                <div class="action">
                                  <a > Encours 
                                </a>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                       
                      </div>
                </ng-container>
                <ng-template #noCandidatureAcc>
                    <h4 style="font-size: 17px;">Pas de candidature</h4>
                </ng-template>
            </ul>
        </div>
    </div>
</div>