<div class="row" id="wrapper">
    <!-- Sidebar -->
    <div class="col-md-3 border-right sidebar1" id="sidebar-wrapper">
        <ul class="nav flex-column">
            <li class="nav-item crd">
                <a class="nav-link custom-tab-link" [class.active]="isTabActive('home')" (click)="changeTab('home')"
                    id="home-tab" data-toggle="tab" role="tab" aria-controls="home" aria-selected="true">Mes
                    locations</a>
            </li>
            <li class="nav-item crd">
                <a class="nav-link custom-tab-link" id="achete-tab" data-toggle="tab"
                    [class.active]="isTabActive('achete')" (click)="changeTab('achete')" role="tab"
                    aria-controls="achete" aria-selected="false">Biens achetés</a>
            </li>
            <li class="nav-item has-submenu crd">
                <a class="nav-link custom-tab-link" (click)="toggleSubmenu()">
                    Reclamations <i class="feather-chevron-down"></i>
                </a>
                <ul class="submenu" style="margin-left: 20px;" [ngClass]="{'collapse': !isSubmenuOpen}">
                    <li><a class="nav-link custom-tab-link" id="reclamationfait-tab" data-toggle="tab"
                            [class.active]="isTabActive('reclamationfait')" (click)="changeTab('reclamationfait')"
                            role="tab" aria-controls="reclamationfait" aria-selected="false">Reclamations que j'ai
                            fait</a></li>
                    <li><a class="nav-link custom-tab-link" id="reclamationlance-tab" data-toggle="tab"
                            [class.active]="isTabActive('reclamationlance')" (click)="changeTab('reclamationlance')"
                            role="tab" aria-controls="reclamationlance" aria-selected="false">Processus lancés </a></li>
                </ul>
            </li>
            <li class="nav-item crd">
                <a class="nav-link custom-tab-link" id="facture-tab" data-toggle="tab"
                    [class.active]="isTabActive('facture')" (click)="changeTab('facture')" role="tab"
                    aria-controls="facture" aria-selected="false">Factures</a>
            </li>
            <li class="nav-item crd">
                <a class="nav-link custom-tab-link" id="favoris-tab" data-toggle="tab"
                    [class.active]="isTabActive('favoris')" (click)="changeTab('favoris')" role="tab"
                    aria-controls="favoris" aria-selected="false">Mes Favoris</a>
            </li>
        </ul>
    </div>
    <div class="col-md-9 tab-content" id="myTabContent">
        <!-- Debut de mes locations  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('home')" id="home" role="tabpanel"
            aria-labelledby="location-tab">
            <div class="dash-listingcontent dashboard-info">
                <div class="dash-cards card">
                    <div class="card-body">
                        <div class="listing-search">
                            <ng-container
                                *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0; else noBiensLoue">
                                <h5>Les biens que j'ai loué</h5>
                            </ng-container>
                            <ng-template #noBiensLoue>
                                <h5>Pas de biens loués</h5>
                            </ng-template>
                            <div class="filter-content form-group">
                                <div class="group-img">
                                    <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                        placeholder="Recherche...">
                                    <i class="feather-search"></i>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive"
                            *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0">
                            <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                id="listdata-table">
                                <thead>
                                    <tr>
                                        <th mat-sort-header="img" class="no-sort">Image</th>
                                        <th mat-sort-header="details" class="no-sort">Details</th>
                                        <th mat-sort-header="date">Date</th>
                                        <th mat-sort-header="Action">Proprietaires</th>
                                        <th mat-sort-header="status">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let BienImmo of bienImmoDejaLoueLocataire | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienLocataire'}">
                                        <td>
                                            <div class="listingtable-img">
                                                <a (click)="goToDettailBien(BienImmo.bien.uuid)">
                                                    <div
                                                        *ngIf="BienImmo.bien.photoImmos && BienImmo.bien.photoImmos.length > 0; else noImages">
                                                        <img src="{{ generateImageUrl(BienImmo.bien.photoImmos[0].nom) }}"
                                                            class="img-fluid image-size" alt="blog-img">
                                                    </div>
                                                    <ng-template #noImages>
                                                        <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size"
                                                            alt="default-img">
                                                    </ng-template>
                                                </a>
                                            </div>
                                        </td>
                                        <td>
                                            <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                    (click)="goToDettailBien(BienImmo.bien.uuid)">
                                                    {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                    BienImmo.bien.typeImmo.nom }}
                                                </a>
                                            </h6>
                                            <div class="listingtable-rate">
                                                <a *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"
                                                    href="javascript:void(0)" class="cat-icon">
                                                    <i class="fa-regular fa-circle-stop"></i>
                                                    {{BienImmo.bien.typeImmo.nom}}
                                                </a> <span class="discount-amt"
                                                    *ngIf="BienImmo.bien && BienImmo.bien.prix">{{
                                                    formatPrice(BienImmo.bien.prix) }}
                                                    FCFA</span>

                                            </div>
                                            <p *ngIf="BienImmo.bien && BienImmo.bien.adresse">
                                                {{BienImmo.bien.adresse.commune.cercle.region.pays.nompays}} -
                                                {{BienImmo.bien.adresse.commune.cercle.region.nomregion}} -
                                                {{BienImmo.bien.adresse.commune.nomcommune}} -
                                                {{BienImmo.bien.adresse.quartier}}
                                            </p>
                                        </td>

                                        <td><span class="views-count"
                                                *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt
                                                |
                                                date:"dd MMM yyyy":locale}}</span></td>
                                        <td>
                                            <ul class="review-list">
                                                <li class="review-box">
                                                    <!-- <div class="review-profile">
                                                        <div class="review-img">
                                                            <img src="{{generateImageUrl(BienImmo.bien.proprietaire.photo.nom)}}"
                                                                class="img-fluid" alt="img"
                                                                (error)="handleAuthorImageError($event)">
                                                        </div>
                                                    </div> -->
                                                    <div class="review-details">
                                                        <div class="tes">
                                                            <div class="views-count">
                                                                {{BienImmo.bien.proprietaire.nom}}</div>
                                                        </div>
                                                        <!-- <div>Tel : {{BienImmo.bien.proprietaire.telephone}}</div> -->
                                                        <!-- <p>ffff</p>																	 -->
                                                    </div>
                                                </li>

                                            </ul>
                                        </td>
                                        <td>
                                            <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->

                                            <div class="action">
                                                <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                    <span class="hover-text">Faire une reclamation</span>
                                                </a>
                                                <a (click)="goToPageContrat(BienImmo?.bien?.contrat?.uuid)"
                                                    class="action-btn btn-view crd">
                                                    <img class="icone-size"
                                                        src="../../../../assets/img/iconeBien/contrat.png"
                                                        alt="Room amenities">
                                                    <span class="hover-text">Voir le contrat</span>
                                                </a>
                                                <!-- <a (click)="goToPageContrat(BienImmo.contrat.uuid)" class="action-btn btn-edit crd">
                                                    <img class="icone-size" src="../../../../assets/img/iconeBien/contrat2.png" alt="Room amenities">
                                                    <span class="hover-text">Voir le contrat</span>
                                                </a> -->
                                            </div>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <!-- Modal pour faire une reclamation  -->
                            <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                                aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Faire une reclamation
                                            </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body" id="modalContent">
                                            <form>
                                                <input type="hidden" [(ngModel)]="selectedBienImmoId"
                                                    name="selectedBienImmoId">
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="recipient-name" class="col-form-label">Type
                                                            de
                                                            probleme <span style="color: red;">*</span></label>
                                                        <div class="pass-group group-img">
                                                            <select [(ngModel)]="form.type" name="type"
                                                                class="form-control" id="">
                                                                <option *ngFor="let item of probleme" [value]="item.id">
                                                                    {{ item.nom}}
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="col-form-label">Prix estimatif
                                                            <span>*</span></label>
                                                        <input type="number" pattern="[0-9]"
                                                            class="form-control pass-input" name="prix_estimatif"
                                                            [(ngModel)]="form.prix_estimatif" placeholder="FCFA" />
                                                    </div>

                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Description
                                                        de la reclamation <span style="color: red;">*</span></label>
                                                    <textarea name="contenu" [(ngModel)]="form.contenu"
                                                        class="form-control" id="message-text"
                                                        placeholder="Description"></textarea>
                                                </div>
                                                <div class="mb-3">
                                                    <div class="row">
                                                        <div class=" featured-img1">
                                                            <h6 class="media-title">Images biens <span>*</span>
                                                            </h6>
                                                            <div class="media-image">
                                                                <div class="row">
                                                                    <div *ngFor="let imageUrl of image; let i = index"
                                                                        class="col-lg-3 col-md-6 image-container m-1">
                                                                        <img class=" image-size m-3" [src]="imageUrl"
                                                                            alt="Image {{ i }}" />
                                                                        <button class="close-button"
                                                                            (click)="removeImage(i)">
                                                                            <i class="fas fa-times close-icon"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="settings-upload-btn">
                                                            <input type="file" id="photo" name="photo"
                                                                (change)="onFileSelected($event)" multiple
                                                                class="hide-input image-upload"
                                                                [disabled]="maxImageCount >=4" />
                                                            <label for="file" class="file-upload">Ajouter
                                                                l'image</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Annuler</button>
                                            <button type="button" class="btn btn-primary"
                                                (click)="FaireReclamation()">Envoyer</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Modal pour la facture  -->
                            <div class="modal fade" id="exampleModal1" data-bs-backdrop="static"
                                data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="facturelocation" #facturelocation>
                                            <div class="modal-header">
                                                <h5 style="font-size: 15px; margin-left: auto;"
                                                    class="modal-title text-center" id="staticBackdropLabel">
                                                    Facture a partir de la plateforme
                                                    <span style="color: #e98b11;">Sossara</span>
                                                </h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <h5 style="font-size: 15px;" class="modal-title text-center"
                                                        id="staticBackdropLabel">Facture du mois
                                                        <span style="color: #e98b11">{{ today | date: 'MMMM YYYY' }}</span>
                                                    </h5>
                                                    <div class="receipt-main ">
                                                        <div class="row">

                                                            <div class="col-xs-7 col-sm-7 col-md-7">
                                                                <div class="receipt-left"
                                                                    *ngIf="transaction && transaction.utilisateur">
                                                                    <img class="img-responsive" alt="iamgurdeeposahan"
                                                                        src="{{generateImageUrl(transaction.utilisateur.photo)}}"
                                                                        style="width: 71px; border-radius: 43px;"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                <div class="receipt-right">
                                                                    <h5
                                                                        *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                        {{transaction.bien.utilisateur.nom}}
                                                                    </h5>
                                                                    <p
                                                                        *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                        <b>Mobile :</b>
                                                                        <!-- {{transaction.bien.utilisateur.telephone}} -->
                                                                    </p>
                                                                    <p
                                                                        *ngIf="transaction && transaction.bien && transaction.bien.utilisateur">
                                                                        <b>Email :</b>
                                                                        {{transaction.bien.utilisateur.email}}
                                                                    </p>
                                                                    <p><b>Address :</b> New York, USA</p>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="row">

                                                            <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                <div class="receipt-right">
                                                                    <h5 *ngIf="transaction && transaction.utilisateur">
                                                                        {{transaction.utilisateur.nom}} </h5>
                                                                    <p *ngIf="transaction && transaction.utilisateur">
                                                                        <b>Mobile :</b>
                                                                        <!-- {{transaction.utilisateur.telephone}} -->
                                                                    </p>
                                                                    <p *ngIf="transaction && transaction.utilisateur">
                                                                        <b>Email :</b>
                                                                        {{transaction.utilisateur.email}}
                                                                    </p>
                                                                    <p><b>Address :</b> New York, USA</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                <div class="receipt-left">
                                                                    <h5 style="font-size: 15px;" *ngIf="transaction">
                                                                        FACTURE
                                                                        N 00{{
                                                                        transaction.id }}</h5>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div>
                                                            <table class="table table-bordered mt-3">
                                                                <thead class="text-center">
                                                                    <tr>
                                                                        <th>Description</th>
                                                                        <th>Prix</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="col-md-7"
                                                                            *ngIf="transaction && transaction.bien && transaction.bien.typeImmo">
                                                                            {{ transaction.bien.nom ?
                                                                            transaction.bien.nom :
                                                                            transaction.bien.typeImmo.nom }}
                                                                        </td>
                                                                        <td class="col-md-5 text-center"
                                                                            *ngIf="transaction"> {{
                                                                            formatPrice(transaction.somme) }}
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="col-md-7">Prix du bien</td>
                                                                        <td class="col-md-5 text-center"> 0000
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="col-md-7">Prix du bien</td>
                                                                        <td class="col-md-5 text-center">0000
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-right">
                                                                            <p>
                                                                                <strong>Total prix: </strong>
                                                                            </p>
                                                                            <p>
                                                                                <strong>Montant paye:
                                                                                </strong>
                                                                            </p>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <p *ngIf="transaction">
                                                                                <strong>
                                                                                    {{
                                                                                    formatPrice(transaction.somme)
                                                                                    }} FCFA</strong>
                                                                            </p>
                                                                            <p *ngIf="transaction">
                                                                                <strong>
                                                                                    {{
                                                                                    formatPrice(transaction.somme)
                                                                                    }} FCFA</strong>
                                                                            </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>

                                                                        <td class="text-right">
                                                                            <h2><strong>Total: </strong></h2>
                                                                        </td>
                                                                        <td class="text-left text-danger text-center">
                                                                            <h2 *ngIf="transaction"><strong>
                                                                                    {{
                                                                                    formatPrice(transaction.somme)
                                                                                    }} FCFA</strong></h2>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="row text-center">
                                                            <div
                                                                class="receipt-header receipt-header-mid receipt-footer">
                                                                <div>
                                                                    <div class="receipt-right">
                                                                        <p><b>Date :</b> {{ today | date: 'dd MMMM yyyy' }}</p>
                                                                        <h5 style="color: rgb(140, 140, 140);">
                                                                            Merci pour la confiance.!</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-4 col-sm-4 col-md-4">

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Retour</button>
                                            <button type="button" (click)="genererPDFLocation()"
                                                class="btn btn-primary">Generer la
                                                facture</button>
                                            <!-- Indicateur de chargement -->
                                            <div *ngIf="loading" class="spinner-border text-primary" role="status">
                                                <span class="sr-only">Chargement en cours...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <pagination-controls *ngIf="bienImmoDejaLoueLocataire && bienImmoDejaLoueLocataire.length > 0"
                            (pageChange)="p5 = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                            previousClass="pagination__previous" nextClass="pagination__next"
                            containerClass="pagination__container" pageClass="pagination__page"
                            activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
                            id="bienLocataire"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
        <!-- fin de mes locations -->
        <!-- Debut des biens achetes  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('achete')" id="achete" role="tabpanel"
            aria-labelledby="achete-tab">
            <div class="dash-listingcontent dashboard-info">
                <div class="dash-cards card">
                    <div class="card-body">
                        <div class="listing-search">
                            <ng-container
                                *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0; else noBiensAcheter">
                                <h5>Les biens que j'ai acheté</h5>
                            </ng-container>
                            <ng-template #noBiensAcheter>
                                <h5>Pas de biens achetés</h5>
                            </ng-template>
                            <div class="filter-content form-group">
                                <div class="group-img">
                                    <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                                        placeholder="Recherche...">
                                    <i class="feather-search"></i>
                                </div>
                            </div>

                        </div>
                        <div class="table-responsive" *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0">
                            <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                id="listdata-table">
                                <thead>
                                    <tr>
                                        <th mat-sort-header="img" class="no-sort">Image</th>
                                        <th mat-sort-header="details" class="no-sort">Details</th>
                                        <th mat-sort-header="view">Date</th>
                                        <th mat-sort-header="Action">Proprietaires</th>
                                        <th mat-sort-header="status">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let BienImmo of bienImmoUserAAcheter | filter:searchTextBienVendu | paginate:{itemsPerPage :4, currentPage:p5,  id: 'bienAcheter'}">
                                        <td>
                                            <div class="listingtable-img">
                                                <a (click)="goToDettailBien(BienImmo.uuid)">
                                                    <div
                                                        *ngIf="BienImmo.bien && BienImmo.bien.photos && BienImmo.bien.photos.length > 0; else noImages">
                                                        <img src="{{ generateImageUrl(BienImmo.bien.photos[0].nom) }}"
                                                            class="img-fluid image-size" alt="blog-img">
                                                    </div>
                                                    <ng-template #noImages>
                                                        <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Villa'">
                                                            <img src="../../../../assets/img/typebien/villa.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                        <div class="type"
                                                            *ngIf="BienImmo?.typeImmo?.nom === 'Appartement'">
                                                            <img src="../../../../assets/img/typebien/appartement.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                        <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Terrain'">
                                                            <img src="../../../../assets/img/typebien/terrain.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                        <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Bureau'">
                                                            <img src="../../../../assets/img/typebien/bureau.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                        <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Champ'">
                                                            <img src="../../../../assets/img/typebien/champ.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                        <div class="type"
                                                            *ngIf="BienImmo?.typeImmo?.nom === 'Commerce & Magasin'">
                                                            <img src="../../../../assets/img/typebien/magasin.png"
                                                                class="img-fluid image-size" alt="default-img">
                                                        </div>
                                                    </ng-template>
                                                </a>
                                            </div>
                                        </td>
                                        <td>
                                            <h6 *ngIf="BienImmo.bien && BienImmo.bien.typeImmo"><a
                                                    (click)="goToDettailBien(BienImmo.uuid)">
                                                    {{ BienImmo.bien.nom ? BienImmo.bien.nom :
                                                    BienImmo.bien.typeImmo.nom }}
                                                </a>
                                            </h6>
                                            <div class="listingtable-rate">
                                                <a *ngIf="BienImmo?.bien && BienImmo?.bien?.typeImmo"
                                                    href="javascript:void(0)" class="cat-icon">
                                                    <i class="fa-regular fa-circle-stop"></i>
                                                    {{BienImmo?.bien?.typeImmo?.nom}}
                                                </a> <span class="discount-amt"
                                                    *ngIf="BienImmo?.bien && BienImmo?.bien?.prix">{{
                                                    formatPrice(BienImmo?.bien.prix) }}
                                                    FCFA</span>

                                            </div>
                                            <p *ngIf="BienImmo?.bien && BienImmo?.bien?.adresse">
                                                {{BienImmo?.bien?.adresse?.commune?.region?.pays?.nom}} -
                                                {{BienImmo?.bien?.adresse?.commune?.region?.nom}} -
                                                {{BienImmo?.bien?.adresse?.commune?.nom}} -
                                                {{BienImmo?.bien?.adresse?.quartier}}
                                            </p>
                                        </td>
                                        <td><span class="views-count"
                                                *ngIf="BienImmo && BienImmo.createdAt">{{BienImmo.createdAt.date
                                                |
                                                date:"dd MMM yyyy":locale}}</span></td>
                                        <td>
                                            <ul class="review-list">
                                                <li class="review-box">
                                                    <!-- <div class="review-profile">
                                                        <div class="review-img">
                                                            <img src="{{generateImageUrl(BienImmo.bien.utilisateur.photo)}}"
                                                                class="img-fluid" alt="img"
                                                                (error)="handleAuthorImageError($event)">
                                                        </div>
                                                    </div> -->
                                                    <div class="review-details">
                                                        <div class="tes">
                                                            <div class="views-count">
                                                                {{BienImmo?.bien?.utilisateur?.nom}}</div>
                                                        </div>
                                                        <!-- <div>Tel : {{BienImmo.bien.utilisateur.telephone}}</div> -->
                                                        <!-- <p>ffff</p>																	 -->
                                                    </div>
                                                </li>

                                            </ul>
                                        </td>
                                        <td>
                                            <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->
                                            <div class="action">
                                                <!-- <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                    <span class="hover-text">Faire une reclamation</span>
                                                </a> -->
                                                <a data-bs-toggle="modal" (click)="openFactureModalVente(BienImmo.id)"
                                                    data-bs-target="#staticBackdrop3" class="action-btn btn-edit crd"><i
                                                        class="feather-edit-3"></i>
                                                    <span class="hover-text">Facture</span>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <!-- Modal pour la facture  -->
                            <div class="modal fade" id="staticBackdrop3" data-bs-backdrop="static"
                                data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">

                                        <div class="factureachat" #factureachat>
                                            <div class="modal-header">
                                                <h5 style="font-size: 15px; margin-left: auto;"
                                                    class="modal-title text-center" id="staticBackdropLabel">
                                                    Facture a partir de la plateforme
                                                    <span style="color: #e98b11;">Sossara</span>
                                                </h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <h5 style="font-size: 15px;" class="modal-title text-center"
                                                        id="staticBackdropLabel">
                                                        <span style="color: #e98b11;">Achat</span>
                                                    </h5>
                                                    <div class="receipt-main ">
                                                        <div class="row">

                                                            <div class="col-xs-7 col-sm-7 col-md-7">
                                                                <div class="receipt-left"
                                                                    *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                    <img class="img-responsive" alt="iamgurdeeposahan"
                                                                        src="{{generateImageUrl(transactionVendue.utilisateur.photo)}}"
                                                                        style="width: 71px; border-radius: 43px;"
                                                                        (error)="handleAuthorImageError($event)">
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                                                <div class="receipt-right">
                                                                    <h5
                                                                        *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                        {{transactionVendue.bien.utilisateur.nom}}
                                                                    </h5>
                                                                    <p
                                                                        *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                        <b>Mobile :</b>
                                                                        <!-- {{transactionVendue.bien.utilisateur.telephone}} -->
                                                                    </p>
                                                                    <p
                                                                        *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.utilisateur">
                                                                        <b>Email :</b>
                                                                        {{transactionVendue.bien.utilisateur.email}}
                                                                    </p>
                                                                    <p><b>Address :</b> New York, USA</p>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="row">

                                                            <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                                                <div class="receipt-right">
                                                                    <h5
                                                                        *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                        {{transactionVendue.utilisateur.nom}}
                                                                    </h5>
                                                                    <p
                                                                        *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                        <b>Mobile :</b>
                                                                        <!-- {{transactionVendue.utilisateur.telephone}} -->
                                                                    </p>
                                                                    <p
                                                                        *ngIf="transactionVendue && transactionVendue.utilisateur">
                                                                        <b>Email :</b>
                                                                        {{transactionVendue.utilisateur.email}}
                                                                    </p>
                                                                    <p><b>Address :</b> New York, USA</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                                                <div class="receipt-left">
                                                                    <h5 style="font-size: 15px;"
                                                                        *ngIf="transactionVendue">
                                                                        FACTURE N 00{{
                                                                        transactionVendue.id }}</h5>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div>
                                                            <table class="table table-bordered mt-3">
                                                                <thead class="text-center">
                                                                    <tr>
                                                                        <th>Description</th>
                                                                        <th>Prix</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="col-md-7"
                                                                            *ngIf="transactionVendue && transactionVendue.bien && transactionVendue.bien.typeImmo">
                                                                            {{ transactionVendue.bien.nom ?
                                                                            transactionVendue.bien.nom :
                                                                            transactionVendue.bien.typeImmo.nom
                                                                            }}
                                                                        </td>
                                                                        <td class="col-md-5 text-center"
                                                                            *ngIf="transactionVendue"> {{
                                                                            formatPrice(transactionVendue.somme)
                                                                            }}
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="col-md-7">Prix du bien</td>
                                                                        <td class="col-md-5 text-center"> 0000
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="col-md-7">Prix du bien</td>
                                                                        <td class="col-md-5 text-center">0000
                                                                            FCFA
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-right">
                                                                            <p>
                                                                                <strong>Total prix: </strong>
                                                                            </p>
                                                                            <p>
                                                                                <strong>Montant paye:
                                                                                </strong>
                                                                            </p>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <p *ngIf="transactionVendue">
                                                                                <strong>
                                                                                    {{
                                                                                    formatPrice(transactionVendue.somme)
                                                                                    }} FCFA</strong>
                                                                            </p>
                                                                            <p *ngIf="transactionVendue">
                                                                                <strong>
                                                                                    {{
                                                                                    formatPrice(transactionVendue.somme)
                                                                                    }} FCFA</strong>
                                                                            </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>

                                                                        <td class="text-right">
                                                                            <h2><strong>Total: </strong></h2>
                                                                        </td>
                                                                        <td class="text-left text-danger text-center">
                                                                            <h2 *ngIf="transactionVendue">
                                                                                <strong>
                                                                                    {{
                                                                                    formatPrice(transactionVendue.somme)
                                                                                    }} FCFA</strong>
                                                                            </h2>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="row text-center">
                                                            <div
                                                                class="receipt-header receipt-header-mid receipt-footer">
                                                                <div>
                                                                    <div class="receipt-right">
                                                                        <p><b>Date :</b> {{ today | date: 'dd MMMM yyyy' }}</p>
                                                                        <h5 style="color: rgb(140, 140, 140);">
                                                                            Merci pour la confiance.!</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-4 col-sm-4 col-md-4">

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Retour</button>
                                            <button type="button" (click)="genererPDFAchat()"
                                                class="btn btn-primary">Generer la
                                                facture</button>
                                            <!-- Indicateur de chargement -->
                                            <div *ngIf="loading" class="spinner-border text-primary" role="status">
                                                <span class="sr-only">Chargement en cours...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <pagination-controls *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0"
                            (pageChange)="p6 = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                            previousClass="pagination__previous" nextClass="pagination__next"
                            containerClass="pagination__container" pageClass="pagination__page"
                            activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
                            id="bienAcheter"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin des biens achetes  -->
        <!-- Debut des reclamations que j'ai fait  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('reclamationfait')" id="reclamationfait"
            role="tabpanel" aria-labelledby="reclamationfait-tab">
            <div class="dashboard-content">
                <div class="container">
                    <div class="row dashboard-info reviewpage-content">
                        <div class="col-lg-12 d-flex" *ngIf="reclamationUser && reclamationUser.length > 0">
                            <div class="card dash-cards w-100">
                                <app-mes-reclamations></app-mes-reclamations>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin des reclamations que j'ai fait  -->
        <!-- Debut des processus de reclamations lancees que j'ai fait  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('reclamationlance')" id="reclamationlance"
            role="tabpanel" aria-labelledby="reclamationlance-tab">
            <div class="dashboard-content">
                <div class="container">
                    <div class="row dashboard-info reviewpage-content">
                        <div class="col-lg-12 d-flex"
                            *ngIf="reclamationProcessusLance && reclamationProcessusLance.length > 0">
                            <div class="card dash-cards w-100">
                                <app-processus-lances></app-processus-lances>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin des processus de reclamations lancees que j'ai fait  -->
        <!-- Debut des factures  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('facture')" id="facture" role="tabpanel"
            aria-labelledby="facture-tab">
            <div class="dash-listingcontent dashboard-info">
                <div class="dash-cards card">
                    <div class="card-body" *ngIf="facture && facture.length > 0">
                        <div class="listing-search">
                            <h4>Mes factures</h4>
                            <div class="filter-content form-group">
                                <div class="group-img">
                                    <input [(ngModel)]="searchFacture" type="text" class="form-control"
                                        placeholder="Recherche...">
                                    <i class="feather-search"></i>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table matSort (matSortChange)="sortData($event)" class="listing-table datatable"
                                id="listdata-table">
                                <thead>
                                    <tr>
                                        <th mat-sort-header="img" class="no-sort">Image</th>
                                        <th mat-sort-header="details" class="no-sort">Details du bien</th>
                                        <th mat-sort-header="date">Date</th>
                                        <th mat-sort-header="dateecheance">Date d'echeance</th>
                                        <th mat-sort-header="status">Statuts</th>
                                        <th mat-sort-header="Action">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let Facture of facture | filter:searchFacture | paginate:{itemsPerPage :4, currentPage:pfacture,  id: 'facture'}">
                                        <td>
                                            <div class="listingtable-img">
                                                <a (click)="goToDettailFacture(Facture.uuid)">
                                                    <div *ngIf="!Facture?.statut">
                                                        <img src="../../../../assets/img/Facture/4.png"
                                                            class="img-fluid image-size" alt="blog-img">
                                                    </div>
                                                    <div *ngIf="Facture?.statut">
                                                        <img src="../../../../assets/img/Facture/5.png"
                                                            class="img-fluid image-size" alt="blog-img">
                                                    </div>
                                                </a>
                                            </div>
                                        </td>
                                        <td>
                                            <h6 *ngIf="Facture.bien && Facture.bien.typeImmo"><a
                                                    (click)="goToDettailFacture(Facture.bien.uuid)">
                                                    {{ Facture.bien.nom ? Facture.bien.nom :
                                                    Facture.bien.typeImmo.nom }}
                                                </a>
                                            </h6>
                                            <div class="listingtable-rate">
                                                <a *ngIf="Facture.bien && Facture.bien.typeImmo"
                                                    href="javascript:void(0)" class="cat-icon">
                                                    <i class="fa-regular fa-circle-stop"></i>
                                                    {{Facture.bien.typeImmo.nom}}
                                                </a> <span class="discount-amt"
                                                    *ngIf="Facture.bien && Facture.bien.prix">{{
                                                    formatPrice(Facture.bien.prix) }}
                                                    FCFA</span>

                                            </div>
                                            <p *ngIf="Facture.bien && Facture.bien.adresse">
                                                {{Facture.bien.adresse.commune.cercle.region.pays.nompays}} -
                                                {{Facture.bien.adresse.commune.cercle.region.nomregion}} -
                                                {{Facture.bien.adresse.commune.nomcommune}} -
                                                {{Facture.bien.adresse.quartier}}
                                            </p>
                                        </td>

                                        <td><span class="views-count"
                                                *ngIf="Facture && Facture.createdAt">{{Facture.createdAt
                                                |
                                                date:"dd MMM yyyy":locale}}</span></td>
                                        <td>
                                            <span class="views-count"
                                                *ngIf="Facture && Facture.createdAt">{{Facture.dateEcheance
                                                |
                                                date:"dd MMM yyyy":locale}}</span>
                                        </td>
                                        <td *ngIf="Facture?.bien?.statut?.nom === 'A vendre'"><span
                                                [ngClass]="{'unpublish': Facture?.bien?.statut?.nom === 'A vendre' }"
                                                class="status-text">Vente</span></td>
                                        <td *ngIf="Facture?.bien?.statut?.nom === 'A louer'"><span
                                                [ngClass]="{'unpublish': Facture?.bien?.statut?.nom === 'A vendre' }"
                                                class="status-text">Location</span></td>
                                        <td>
                                            <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->

                                            <div class="action">
                                                <a (click)="goToDettailFacture(Facture.uuid)"
                                                    class="action-btn btn-view crd">
                                                    <img class="icone-size"
                                                        src="../../../../assets/img/iconeBien/facture.png"
                                                        alt="Room amenities">
                                                    <span class="hover-text">Voir la facture</span>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <!-- Modal pour faire une reclamation  -->
                            <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                                aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Faire une reclamation
                                            </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body" id="modalContent">
                                            <form>
                                                <input type="hidden" [(ngModel)]="selectedBienImmoId"
                                                    name="selectedBienImmoId">
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="recipient-name" class="col-form-label">Type
                                                            de
                                                            probleme <span style="color: red;">*</span></label>
                                                        <div class="pass-group group-img">
                                                            <select [(ngModel)]="form.type" name="type"
                                                                class="form-control" id="">
                                                                <option *ngFor="let item of probleme" [value]="item.id">
                                                                    {{ item.nom}}
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label class="col-form-label">Prix estimatif
                                                            <span>*</span></label>
                                                        <input type="number" pattern="[0-9]"
                                                            class="form-control pass-input" name="prix_estimatif"
                                                            [(ngModel)]="form.prix_estimatif" placeholder="FCFA" />
                                                    </div>

                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Description
                                                        de la reclamation <span style="color: red;">*</span></label>
                                                    <textarea name="contenu" [(ngModel)]="form.contenu"
                                                        class="form-control" id="message-text"
                                                        placeholder="Description"></textarea>
                                                </div>
                                                <div class="mb-3">
                                                    <div class="row">
                                                        <div class=" featured-img1">
                                                            <h6 class="media-title">Images biens <span>*</span>
                                                            </h6>
                                                            <div class="media-image">
                                                                <div class="row">
                                                                    <div *ngFor="let imageUrl of image; let i = index"
                                                                        class="col-lg-3 col-md-6 image-container m-1">
                                                                        <img class=" image-size m-3" [src]="imageUrl"
                                                                            alt="Image {{ i }}" />
                                                                        <button class="close-button"
                                                                            (click)="removeImage(i)">
                                                                            <i class="fas fa-times close-icon"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="settings-upload-btn">
                                                            <input type="file" id="photo" name="photo"
                                                                (change)="onFileSelected($event)" multiple
                                                                class="hide-input image-upload"
                                                                [disabled]="maxImageCount >=4" />
                                                            <label for="file" class="file-upload">Ajouter
                                                                l'image</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Annuler</button>
                                            <button type="button" class="btn btn-primary"
                                                (click)="FaireReclamation()">Envoyer</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <pagination-controls *ngIf="facture && facture.length > 0" (pageChange)="pfacture = $event"
                            previousLabel="Précédent" nextLabel="Suivant" class="pagination"
                            previousClass="pagination__previous" nextClass="pagination__next"
                            containerClass="pagination__container" pageClass="pagination__page"
                            activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
                            id="facture"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin des factures  -->

        <!-- Debut des favoris  -->
        <div class="tab-pane fade show" [class.active]="isTabActive('favoris')" id="favoris" role="tabpanel"
            aria-labelledby="favoris-tab">
            <div class="dash-listingcontent dashboard-info">
                <div class="dash-cards card">
                    <div class="card-body" *ngIf="favoris && favoris.length > 0">
                        <div class="listing-search">
                            <h4>Mes favoris</h4>
                            <div class="filter-content form-group">
                                <div class="group-img">
                                    <input [(ngModel)]="searchFavoris" type="text" class="form-control"
                                        placeholder="Recherche...">
                                    <i class="feather-search"></i>
                                </div>
                            </div>
                        </div>
                        <div class="listmapgrid-content" style="overflow-y: auto; height: 450px; overflow-x: hidden">
                            <div class="blog-listview">
                                <div class="card card2" *ngFor="let slide of favoris | filter : searchFavoris">
                                    <div class="blog-widget">
                                        <div class="blog-img">
                                            <a (click)="goToDettailBien(slide.uuid)">
                                                <div *ngIf="
                        slide.bien.photoImmos && slide.bien.photoImmos.length > 0;
                        else noImages
                      ">
                                                    <img src="{{ generateImageUrl(slide.bien.photoImmos[0].nom) }}"
                                                        class="img-fluid image-size1" alt="blog-img" />
                                                </div>
                                                <ng-template #noImages>
                                                    <div class="type" *ngIf="slide.bien.typeImmo.nom === 'Villa'">
                                                        <img src="../../../../assets/img/typebien/villa.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <div class="type" *ngIf="slide.bien.typeImmo.nom === 'Appartement'">
                                                        <img src="../../../../assets/img/typebien/appartement.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <div class="type" *ngIf="slide.bien.typeImmo.nom === 'Terrain'">
                                                        <img src="../../../../assets/img/typebien/terrain.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <div class="type" *ngIf="slide.bien.typeImmo.nom === 'Bureau'">
                                                        <img src="../../../../assets/img/typebien/bureau.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <div class="type" *ngIf="slide.bien.typeImmo.nom === 'Champ'">
                                                        <img src="../../../../assets/img/typebien/champ.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <div class="type"
                                                        *ngIf="slide.bien.typeImmo.nom === 'Commerce & Magasin'">
                                                        <img src="../../../../assets/img/typebien/magasin.png"
                                                            class="img-fluid image-size1" alt="default-img">
                                                    </div>
                                                    <!-- <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img"> -->
                                                </ng-template>
                                            </a>
                                            <div class="fav-item">
                                                <span [ngClass]="{
                        statutbien: slide?.bien?.statut?.nom === 'A vendre'
                      }" class="Featured-text">{{ slide?.bien?.statut?.nom }}</span>
                                                <a href="javascript:void(0)" *ngIf="isLoggedIn == true" class="fav-icon"
                                                    (click)="AimerBien(slide.bien.id)" [style.background-color]="
                        favoriteStatus[slide.bien.id] ? 'white' : '#e98b11'
                      ">
                                                    <i [style.color]="
                          favoriteStatus[slide.bien.id] ? 'black' : 'white'
                        " class="feather-heart"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="bloglist-content">
                                            <div class="card-body">
                                                <div class="blogfeaturelink">
                                                    <div class="blog-features">
                                                        <a href="javascript:void(0);"><span>
                                                                <i class="fa-regular fa-circle-stop"></i>
                                                                {{ slide.bien.typeImmo.nom }}</span></a>
                                                    </div>
                                                    <div class="blog-author">
                                                        <div class="blog-author-img">
                                                            <!-- <img [src]="slide.img2" alt="author" /> -->
                                                            <img src="{{
                              generateImageUrl(slide?.bien?.proprietaire?.photo?.nom)
                            }}" alt="author" (error)="handleAuthorImageError($event)" />
                                                        </div>
                                                        <a (click)="goToDettailBien(slide.bien.uuid)">{{
                                                            slide?.bien?.proprietaire?.nom
                                                            }}</a>
                                                    </div>
                                                </div>
                                                <h6>
                                                    <a (click)="goToDettailBien(slide.bien.uuid)">{{
                                                        slide.bien.nom ? slide.bien.nom : slide.bien.typeImmo.nom
                                                        }}</a>
                                                </h6>
                                                <div class="blog-location-details">
                                                    <div class="location-info">
                                                        <i class="feather-map-pin"></i>
                                                        {{ slide.bien.adresse.quartier }}
                                                    </div>
                                                    <!-- <div class="location-info">
                        <i class="feather-phone-call"></i> 00556245562
                      </div> -->
                                                    <div class="location-info">
                                                        <i class="feather-eye"></i>
                                                        {{ favoritedPropertiesCount1[slide.bien.id] }}
                                                    </div>
                                                </div>
                                                <!-- <p class="ratings">
                      <span>4.0</span> ( 50 Reviews )
                    </p> -->
                                                <div class="amount-details">
                                                    <div class="amount">
                                                        <span class="validrate">{{ formatPrice(slide.bien.prix) }} FCFA
                                                        </span>
                                                        <!-- <span>{{ slide.oldamount }}</span> -->
                                                    </div>
                                                    <a class="crd" (click)="goToDettailBien(slide.bien.uuid)">Savoir plus</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                </div>

                                <!-- PAGINATION  -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin des factures  -->
    </div>
</div>