<!-- <div class="container-fluid"> -->
<div class="row" id="wrapper">
  <!-- Sidebar -->
  <div class="col-md-3 border-right sidebar1" id="sidebar-wrapper">
    <ul class="nav flex-column">
      <li class="nav-item crd" *ngIf="!isAgence">
        <a class="nav-link custom-tab-link" [class.active]="isTabActive('home')" (click)="changeTab('home')"
          id="home-tab" data-toggle="tab" role="tab" aria-controls="home" aria-selected="true">Liste des biens</a>
      </li>
      <li class="nav-item crd" *ngIf="isAgence">
        <a class="nav-link custom-tab-link" [class.active]="isTabActive('homeagence')" (click)="changeTab('homeagence')"
          id="homeagence-tab" data-toggle="tab" role="tab" aria-controls="homeagence" aria-selected="true">Liste des
          biens</a>
      </li>
      <li class="nav-item crd" *ngIf="!isAgence">
        <a class="nav-link custom-tab-link" [class.active]="isTabActive('loue')" (click)="changeTab('loue')"
          id="loue-tab" data-toggle="tab" role="tab" aria-controls="loue" aria-selected="false">Mes biens loués</a>
      </li>
      <li class="nav-item crd" *ngIf="isAgence">
        <a class="nav-link custom-tab-link" [class.active]="isTabActive('loueagence')" (click)="changeTab('loueagence')"
          id="loueagence-tab" data-toggle="tab" role="tab" aria-controls="loueagence" aria-selected="false">Mes biens
          loués</a>
      </li>
      <li class="nav-item crd" *ngIf="!isAgence">
        <a class="nav-link custom-tab-link" id="vendu-tab" data-toggle="tab" [class.active]="isTabActive('vendu')"
          (click)="changeTab('vendu')" role="tab" aria-controls="vendu" aria-selected="false">Mes biens vendus</a>
      </li>
      <li class="nav-item crd" *ngIf="isAgence">
        <a class="nav-link custom-tab-link" id="venduagence-tab" data-toggle="tab"
          [class.active]="isTabActive('venduagence')" (click)="changeTab('venduagence')" role="tab"
          aria-controls="venduagence" aria-selected="false">Mes biens vendus</a>
      </li>
      <li class="nav-item crd" *ngIf="!isAgent">
        <a class="nav-link custom-tab-link" id="location-tab" data-toggle="tab" [class.active]="isTabActive('location')"
          (click)="changeTab('location')" role="tab" aria-controls="location" aria-selected="false">Mes locations</a>
      </li>
      <li class="nav-item crd" *ngIf="!isAgent">
        <a class="nav-link custom-tab-link" id="achete-tab" data-toggle="tab" [class.active]="isTabActive('achete')"
          (click)="changeTab('achete')" role="tab" aria-controls="achete" aria-selected="false">Biens achetés</a>
      </li>

      <li class="nav-item has-submenu crd">
        <a class="nav-link custom-tab-link" (click)="toggleSubmenuCand1()">
          Les candidatures sur mes biens <i class="feather-chevron-down"></i>
        </a>
        <ul class="submenu" style="margin-left: 20px;" [ngClass]="{'collapse': !isSubmenuOpenCandi1}">
          <li><a class="nav-link custom-tab-link" id="candidatureMesbiens-tab" data-toggle="tab"
              [class.active]="isTabActive('candidatureMesbiens')" (click)="changeTab('candidatureMesbiens')" role="tab"
              aria-controls="candidatureMesbiens" aria-selected="false">Les Candidatures</a></li>
          <li><a class="nav-link custom-tab-link" id="candidatureaccepterMesBiens-tab" data-toggle="tab"
              [class.active]="isTabActive('candidatureaccepterMesBiens')"
              (click)="changeTab('candidatureaccepterMesBiens')" role="tab" aria-controls="candidatureaccepterMesBiens"
              aria-selected="false">Les Candidature acceptées</a></li>
          <li><a class="nav-link custom-tab-link" id="candidatureannulerMesBiens-tab" data-toggle="tab"
              [class.active]="isTabActive('candidatureannulerMesBiens')"
              (click)="changeTab('candidatureannulerMesBiens')" role="tab" aria-controls="candidatureannulerMesBiens"
              aria-selected="false">Les Candidature annulées</a></li>
        </ul>
      </li>

      <li class="nav-item has-submenu crd">
        <a class="nav-link custom-tab-link" (click)="toggleSubmenuCand()">
          Mes candidatures <i class="feather-chevron-down"></i>
        </a>
        <ul class="submenu" style="margin-left: 20px;" [ngClass]="{'collapse': !isSubmenuOpenCandi}">
          <li><a class="nav-link custom-tab-link" id="candidature-tab" data-toggle="tab"
              [class.active]="isTabActive('candidature')" (click)="changeTab('candidature')" role="tab"
              aria-controls="candidature" aria-selected="false">Mes Candidatures</a></li>
          <li><a class="nav-link custom-tab-link" id="candidatureaccepter-tab" data-toggle="tab"
              [class.active]="isTabActive('candidatureaccepter')" (click)="changeTab('candidatureaccepter')" role="tab"
              aria-controls="candidatureaccepter" aria-selected="false">Mes Candidature acceptées</a></li>
          <li><a class="nav-link custom-tab-link" id="candidatureannuler-tab" data-toggle="tab"
              [class.active]="isTabActive('candidatureannuler')" (click)="changeTab('candidatureannuler')" role="tab"
              aria-controls="candidatureannuler" aria-selected="false">Mes Candidature annulées</a></li>
        </ul>
      </li>

      <li class="nav-item has-submenu crd">
        <a class="nav-link custom-tab-link" (click)="toggleSubmenu()">
          Reclamations <i class="feather-chevron-down"></i>
        </a>
        <ul class="submenu" style="margin-left: 20px" [ngClass]="{ collapse: !isSubmenuOpen }">
          <li>
            <a class="nav-link custom-tab-link" id="reclamationfait-tab" data-toggle="tab"
              [class.active]="isTabActive('reclamationfait')" (click)="changeTab('reclamationfait')" role="tab"
              aria-controls="reclamationfait" aria-selected="false">Reclamations que j'ai fait</a>
          </li>
          <li>
            <a class="nav-link custom-tab-link" id="reclamationconcernantbien-tab" data-toggle="tab"
              [class.active]="isTabActive('reclamationconcernantbien')" (click)="changeTab('reclamationconcernantbien')"
              role="tab" aria-controls="reclamationconcernantbien" aria-selected="false">Reclamations sur mes biens</a>
          </li>
          <li>
            <a class="nav-link custom-tab-link" id="reclamationlance-tab" data-toggle="tab"
              [class.active]="isTabActive('reclamationlance')" (click)="changeTab('reclamationlance')" role="tab"
              aria-controls="reclamationlance" aria-selected="false">Processus lancés
            </a>
          </li>
          <li>
            <a class="nav-link custom-tab-link" id="reclamationlancebien-tab" data-toggle="tab"
              [class.active]="isTabActive('reclamationlancebien')" (click)="changeTab('reclamationlancebien')"
              role="tab" aria-controls="reclamationlancebien" aria-selected="false">Processus encours sur mes biens</a>
          </li>
        </ul>
      </li>
      <!-- <li class="nav-item crd">
                    <a class="nav-link custom-tab-link" id="reclamation-tab" data-toggle="tab"
                        [class.active]="isTabActive('reclamation')" (click)="changeTab('reclamation')" role="tab"
                        aria-controls="reclamation" aria-selected="false">Reclamations</a>
                </li> -->
      <li class="nav-item crd">
        <a class="nav-link custom-tab-link" (click)="toggleSubmenuFacture()">Factures <i
            class="feather-chevron-down"></i></a>
        <ul class="submenu" style="margin-left: 20px" [ngClass]="{ collapse: !isSubmenuOpenFacture }">
          <li>
            <a class="nav-link custom-tab-link" id="facture-tab" data-toggle="tab"
              [class.active]="isTabActive('facture')" (click)="changeTab('facture')" role="tab" aria-controls="facture"
              aria-selected="false">Mes factures</a>
          </li>
          <li>
            <a class="nav-link custom-tab-link" id="factureBien-tab" data-toggle="tab"
              [class.active]="isTabActive('factureBien')" (click)="changeTab('factureBien')" role="tab"
              aria-controls="factureBien" aria-selected="false">Factures de mes biens</a>
          </li>
        </ul>
      </li>
      <li class="nav-item crd">
        <a class="nav-link custom-tab-link" id="favoris-tab" data-toggle="tab" [class.active]="isTabActive('favoris')"
          (click)="changeTab('favoris')" role="tab" aria-controls="favoris" aria-selected="false">Mes Favoris</a>
      </li>
    </ul>
  </div>
  <!-- /#sidebar-wrapper -->

  <div class="col-md-9 tab-content" id="myTabContent">
    <!-- Debut La liste des biens Agence -->
    <div class="tab-pane fade show" [class.active]="isTabActive('homeagence')" id="homeagence" role="tabpanel"
      aria-labelledby="homeAgence-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-header">
            <ng-container *ngIf="
                bienImmoAgenceTotal && bienImmoAgenceTotal.length > 0;
                else noBiensAgence
              ">
              <h4>Mes biens</h4>
            </ng-container>
            <ng-template #noBiensAgence>
              <h4>Pas de biens</h4>
            </ng-template>
            <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
              <i class="fa-solid fa-plus"></i> Ajouter un bien</a>
          </div>
          <div class="card-body" *ngIf="bienImmoAgenceTotal && bienImmoAgenceTotal.length > 0">
            <div class="listing-search">
              <div class="filter-content form-group">
                <div class="group-img">
                  <input [(ngModel)]="searchText" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
              <div class="sorting-div">
                <div class="sortbyset">
                  <span class="sortbytitle">Trier par</span>
                  <div class="sorting-select">
                    <!-- <select class="form-control select" [(ngModel)]="searchText">
                      <option value="" selected>Tout</option>
                      <option>A louer</option>
                      <option>A vendre</option>
                    </select> -->

                    <mat-form-field class="mat-custom-select" style="width: 100%;">
                      <mat-label *ngIf="selectedCategory == ''">
                        Statut</mat-label>
                      <mat-select [(ngModel)]="searchText">
                        <mat-option disabled class="search-input-option">
                          <input class="search-input" type="text" />
                        </mat-option>
                        <mat-option value="">Tout</mat-option>
                        <mat-option value="A louer">A louer</mat-option>
                        <mat-option value="A vendre">A vendre</mat-option>

                      </mat-select>
                    </mat-form-field>
                  </div>

                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Publié</th>
                    <th mat-sort-header="Action">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmoAgenceTotal.slice(
                        (currentPage - 1) * itemsPerPage,
                        currentPage * itemsPerPage
                      ) | filter : searchText
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                         
                          {{BienImmo?.reference}}
                        </a>
                      </div>
                    </td>
                    <td>
                     
                      <div class="listingtable-rate">
                        <a href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt">{{ formatPrice(BienImmo?.prix) }} FCFA</span>
                      </div>
                     
                    </td>
                    <td>
                      <span [ngClass]="{
                          unpublish: BienImmo?.statut?.nom === 'A vendre'
                        }" class="status-text">{{ BienImmo?.statut?.nom }}</span>
                    </td>
                    <td>
                     

                   
                    <div class="form-check form-switch">
                      <input class="form-check-input"
                             (click)="publierBien(BienImmo.uuid)"
                             type="checkbox"
                             id="flexSwitchCheck{{BienImmo?.uuid}}"
                             [checked]="BienImmo.is_publish"
                             [disabled]="isLoading">
                      <label class="form-check-label" for="flexSwitchCheck{{BienImmo?.uuid}}"></label>
                  </div>
                      
                    </td>
                    <td>
                      <div class="action">
                        <a (click)="goToDettailBien(BienImmo.uuid)" class="action-btn btn-view crd"><i
                            class="feather-eye"></i></a>
                        <a (click)="goToModifierBien(BienImmo?.uuid)" class="action-btn btn-edit crd"><i
                            class="feather-edit-3"></i></a>
                        <a (click)="SupprimerBien(BienImmo?.uuid)" class="action-btn btn-trash crd"><i
                            class="feather-trash-2"></i></a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>


            <div class="blog-pagination">
              <nav>
                <ul class="pagination">
                  <li class="page-item previtem crd">
                    <a class="page-link" (click)="previousPage()"><i class="fas fa-regular fa-arrow-left"></i> Prec</a>
                  </li>
                  <li class="justify-content-center pagination-center">
                    <div class="pagelink">
                      <ul>
                        <li class="page-item crd" *ngFor="let page of pages" [class.is-active]="currentPage === page"
                          (click)="setCurrentPage(page)">
                          <a class="page-link">{{ page }}</a>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li class="page-item nextlink crd">
                    <a class="page-link" (click)="nextPage()">Suiv <i class="fas fa-regular fa-arrow-right"></i></a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- fin La liste des biens Agence -->

    <!-- Debut La liste des biens  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('home')" id="home" role="tabpanel"
      aria-labelledby="home-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-header">
            <ng-container *ngIf="bienImmo && bienImmo.length > 0; else noBiens">
              <h4>Mes biens</h4>
            </ng-container>
            <ng-template #noBiens>
              <h4>Pas de biens</h4>
            </ng-template>
            <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
              <i class="fa-solid fa-plus"></i> Ajouter un bien</a>
          </div>
          <div class="card-body" *ngIf="bienImmo && bienImmo.length > 0">
            <div class="listing-search">
              <div class="filter-content form-group">
                <div class="group-img">
                  <input [(ngModel)]="searchText" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
              <div class="sorting-div">
                <div class="sortbyset">
                  <span class="sortbytitle">Trier par</span>
                  <div class="sorting-select">
        
                    <mat-form-field class="mat-custom-select" style="width: 100%;">
                      <mat-label *ngIf="selectedCategory == ''">
                        Statut</mat-label>
                      <mat-select [(ngModel)]="searchText">
                        <mat-option disabled class="search-input-option">
                          <input class="search-input" type="text" />
                        </mat-option>
                        <mat-option value="">Tout</mat-option>
                        <mat-option value="A louer">A louer</mat-option>
                        <mat-option value="A vendre">A vendre</mat-option>

                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Publié</th>
                    <th mat-sort-header="Action">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmo
                        | filter : searchText
                        | paginate : { itemsPerPage: 4, currentPage: p1 }
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                         
                          {{BienImmo?.reference}}
                        </a>
                      </div>
                    </td>
                    <td>
                     
                      <div class="listingtable-rate">
                        <a href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt">{{ formatPrice(BienImmo?.prix) }} FCFA</span>
                      </div>
                    
                    </td>
                    <td>
                      <span [ngClass]="{
                          unpublish: BienImmo?.statut?.nom === 'A vendre'
                        }" class="status-text">{{ BienImmo?.statut?.nom }}</span>
                    </td>
                    <td>
<!--                     
                    <div class="form-check form-switch">
                      <input class="form-check-input" (click)="publierBien(BienImmo.uuid)"  type="checkbox" id="flexSwitchCheck{{BienImmo?.uuid}}" [checked]="BienImmo.is_publish">
                      <label class="form-check-label" for="flexSwitchCheck{{BienImmo?.uuid}}"></label>
                  </div> -->
                  <div class="form-check form-switch">
                    <input class="form-check-input"
                           (click)="publierBien(BienImmo.uuid)"
                           type="checkbox"
                           id="flexSwitchCheck{{BienImmo?.uuid}}"
                           [checked]="BienImmo.is_publish"
                           [disabled]="isLoading">
                    <label class="form-check-label" for="flexSwitchCheck{{BienImmo?.uuid}}"></label>
                </div>
                    </td>
                    <td>
                      <div class="action">
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="action-btn btn-view crd"><i
                            class="feather-eye"></i></a>
                        <a (click)="goToModifierBien(BienImmo?.uuid)" class="action-btn btn-edit crd"><i
                            class="feather-edit-3"></i></a>
                        <a (click)="SupprimerBien(BienImmo?.uuid)" class="action-btn btn-trash crd"><i
                            class="feather-trash-2"></i></a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <pagination-controls *ngIf="bienImmo && bienImmo.length > 0" (pageChange)="p1 = $event"
              previousLabel="Précédent" nextLabel="Suivant" class="pagination" previousClass="pagination__previous"
              nextClass="pagination__next" containerClass="pagination__container" pageClass="pagination__page"
              activeClassName="pagination__page--active"
              disabledClass="pagination__page--disabled"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- fin La liste des biens   -->
    <!-- Debut des biens loues  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('loue')" id="loue" role="tabpanel"
      aria-labelledby="loue-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <!-- <div class="card-header"> -->
          <!-- <h4>Mes biens qui sont loues</h4> -->
          <!-- <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                            <i class="fa-solid fa-plus"></i> Ajouter un bien</a> -->
          <!-- </div> -->
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienImmoDejaLoue && bienImmoDejaLoue.length > 0;
                  else noBiensLocatiom
                ">
                <h5>Mes biens qui sont loués</h5>
              </ng-container>
              <ng-template #noBiensLocatiom>
                <h5>Pas de biens en location</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="bienImmoDejaLoue && bienImmoDejaLoue.length > 0">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienLoue" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>

            </div>
            <div class="table-responsive" *ngIf="bienImmoDejaLoue && bienImmoDejaLoue.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Locataires</th>
                    <th mat-sort-header="Action">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmoDejaLoue
                        | filter : searchTextBienLoue
                        | paginate
                          : { itemsPerPage: 4, currentPage: p2, id: 'bienLoue' }
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                          <!-- <div *ngIf="
                              BienImmo?.photos && BienImmo?.photos.length > 0;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(BienImmo?.photos[0].nom)
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img" />
                          </ng-template> -->
                          {{BienImmo?.reference}}
                        </a>
                      </div>
                    </td>
                    <td>
                      <!-- <h6 *ngIf="BienImmo && BienImmo?.typeImmo">
                        <a (click)="goToDettailBien(BienImmo.uuid)">{{
                          BienImmo.nom ? BienImmo?.nom : BienImmo?.typeImmo?.nom
                          }}</a>
                      </h6> -->
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo && BienImmo?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo && BienImmo?.prix">{{ formatPrice(BienImmo?.prix) }}
                          FCFA</span>
                      </div>
                      <!-- <p *ngIf="BienImmo && BienImmo?.adresse">
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.pays?.nompays
                        }}
                        -
                        {{ BienImmo?.adresse?.commune?.cercle?.region?.nomregion }} -
                        {{ BienImmo?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.adresse?.quartier }}
                      </p> -->
                    </td>
                    <td>
                      <span [ngClass]="{
                          unpublish: BienImmo?.statut?.nom === 'A vendre'
                        }" class="status-text">Loué</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo?.createdAt">{{
                        BienImmo?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.candidatures[0]?.utilisateur?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{
                                BienImmo?.candidatures[0]?.utilisateur?.nom
                                }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo?.candidatures[0]?.utilisateur?.telephone}}
                                                            </div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                    <td>
                      <div class="action">
                        <a (click)="goToListeFacture(BienImmo?.uuid)"
                            class="action-btn btn-view crd">
                            <img class="icone-size"
                                src="../../../../assets/img/iconeBien/facture1.png"
                                alt="Room amenities">
                            <span class="hover-text">Voir les factures</span>
                        </a>
                        <!-- <a (click)="goToPageContrat(BienImmo.contrat.uuid)" class="action-btn btn-edit crd">
                            <img class="icone-size" src="../../../../assets/img/iconeBien/contrat2.png" alt="Room amenities">
                            <span class="hover-text">Voir le contrat</span>
                        </a> -->
                    </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <pagination-controls *ngIf="bienImmoDejaLoue && bienImmoDejaLoue.length > 0" (pageChange)="p2 = $event"
              previousLabel="Précédent" nextLabel="Suivant" class="pagination" previousClass="pagination__previous"
              nextClass="pagination__next" containerClass="pagination__container" pageClass="pagination__page"
              activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
              id="bienLoue"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- fin des biens loues  -->
    <!-- Debut des biens loues Agence  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('loueagence')" id="loueagence" role="tabpanel"
      aria-labelledby="loueagence-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienTotalAgence && bienTotalAgence.length > 0;
                  else noBiensLocatiom
                ">
                <h5>Mes biens qui sont loués</h5>
              </ng-container>
              <ng-template #noBiensLocatiom>
                <h5>Pas de biens en location</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="bienTotalAgence && bienTotalAgence.length > 0">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienLoue" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
              <!-- <div class="sorting-div">
                                <div class="sortbyset">
                                    <span class="sortbytitle">Trier par</span>
                                    <div class="sorting-select">
                                        <select class="form-control select" [(ngModel)]="searchText">
                                            <option value="" selected>Tout</option>
                                            <option>A louer</option>
                                            <option>A vendre</option>
                                        </select>
                                    </div>
                                </div>
                            </div> -->
            </div>
            <div class="table-responsive" *ngIf="bienTotalAgence && bienTotalAgence.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Locataires</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienTotalAgence.slice(
                        (currentA - 1) * itemsPerPage,
                        currentA * itemsPerPage
                      ) | filter : searchTextBienLoue
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)">
                          <!-- <div *ngIf="
                              BienImmo.photos;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(BienImmo?.photos)
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Villa'">
                              <img src="../../../../assets/img/typebien/villa.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Appartement'">
                              <img src="../../../../assets/img/typebien/appartement.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Terrain'">
                              <img src="../../../../assets/img/typebien/terrain.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Bureau'">
                              <img src="../../../../assets/img/typebien/bureau.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Champ'">
                              <img src="../../../../assets/img/typebien/champ.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="
                                BienImmo?.typeImmo?.nom === 'Magasin'
                              ">
                              <img src="../../../../assets/img/typebien/magasin.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                          </ng-template> -->
                          {{BienImmo?.reference}}

                        </a>
                      </div>
                    </td>
                    <td>
                      <!-- <h6 *ngIf="BienImmo && BienImmo.typeImmo">
                        <a (click)="goToDettailBien(BienImmo?.uuid)">{{
                          BienImmo.nom ? BienImmo?.nom : BienImmo?.typeImmo?.nom
                          }}</a>
                      </h6> -->
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo && BienImmo?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo && BienImmo.prix">{{ formatPrice(BienImmo?.prix) }}
                          FCFA</span>
                      </div>
                      <!-- <p *ngIf="BienImmo?.bien && BienImmo?.bien?.adresse">
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.pays
                        ?.nompays
                        }}
                        -
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ BienImmo?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.adresse?.quartier }}
                      </p> -->
                    </td>
                    <td>
                      <span [ngClass]="{
                          unpublish: BienImmo?.statut?.nom === 'A vendre'
                        }" class="status-text">{{ BienImmo?.statut?.nom }}</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo?.createdAt">{{
                        BienImmo?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.candidatures[0]?.utilisateur?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{ BienImmo?.candidatures[0]?.utilisateur.nom }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo.candidatures[0]?.utilisateur?.telephone}}
                                                            </div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- <pagination-controls
              *ngIf="bienTotalAgence && bienTotalAgence.length > 0"
              (pageChange)="p2 = $event"
              previousLabel="Précédent"
              nextLabel="Suivant"
              class="pagination"
              previousClass="pagination__previous"
              nextClass="pagination__next"
              containerClass="pagination__container"
              pageClass="pagination__page"
              activeClassName="pagination__page--active"
              disabledClass="pagination__page--disabled"
              id="bienLoueAgence"
            ></pagination-controls> -->
            <div class="blog-pagination" *ngIf="bienTotalAgence && bienTotalAgence.length > 0">
              <nav>
                <ul class="pagination">
                  <li class="page-item previtem crd">
                    <a class="page-link" (click)="previousPageA()"><i class="fas fa-regular fa-arrow-left"></i> Prec</a>
                  </li>
                  <li class="justify-content-center pagination-center">
                    <div class="pagelink">
                      <ul>
                        <li class="page-item crd" *ngFor="let page of pageA" [class.is-active]="currentA === page"
                          (click)="setCurrentPageA(page)">
                          <a class="page-link">{{ page }}</a>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li class="page-item nextlink crd">
                    <a class="page-link" (click)="nextPageA()">Suiv <i class="fas fa-regular fa-arrow-right"></i></a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- fin des biens loues Agence -->

    <!-- Debut des biens vendus  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('vendu')" id="vendu" role="tabpanel"
      aria-labelledby="vendu-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <!-- <div class="card-header"> -->
          <!-- <h4>Mes biens qui sont vendus</h4> -->
          <!-- <a class="nav-link header-login add-listing" [routerLink]="routes.addlisting">
                            <i class="fa-solid fa-plus"></i> Ajouter un bien</a> -->
          <!-- </div> -->
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienImmoDejaVendu && bienImmoDejaVendu.length > 0;
                  else noBiensVendu
                ">
                <h5>Mes biens qui sont vendus</h5>
              </ng-container>
              <ng-template #noBiensVendu>
                <h5>Pas de biens vendus</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="bienImmoDejaVendu && bienImmoDejaVendu.length > 0">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                    placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
              <!-- <div class="sorting-div">
                                <div class="sortbyset">
                                    <span class="sortbytitle">Trier par</span>
                                    <div class="sorting-select">
                                        <select class="form-control select" [(ngModel)]="searchText">
                                            <option value="" selected>Tout</option>
                                            <option>A louer</option>
                                            <option>A vendre</option>
                                        </select>
                                    </div>
                                </div>
                            </div> -->
            </div>
            <div class="table-responsive" *ngIf="bienImmoDejaVendu && bienImmoDejaVendu.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Acheteurs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmoDejaVendu
                        | filter : searchTextBienVendu
                        | paginate
                          : {
                              itemsPerPage: 4,
                              currentPage: p3,
                              id: 'bienVendu'
                            }
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                          {{BienImmo?.reference}}

                          <!-- <div *ngIf="
                              BienImmo.photos;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(BienImmo?.photos)
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img" />
                          </ng-template> -->

                        </a>
                      </div>
                    </td>
                    <td>
                      <!-- <h6 *ngIf="BienImmo && BienImmo.typeImmo">
                        <a (click)="goToDettailBien(BienImmo.uuid)">
                          {{
                          BienImmo?.nom ? BienImmo?.nom : BienImmo?.typeImmo?.nom
                          }}
                        </a>
                      </h6> -->
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo && BienImmo?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo && BienImmo?.prix">{{ formatPrice(BienImmo?.prix) }}
                          FCFA</span>
                      </div>
                      <!-- <p *ngIf="BienImmo && BienImmo?.adresse">
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.pays?.nompays
                        }}
                        -
                        {{ BienImmo?.adresse?.commune?.cercle?.region?.nomregion }} -
                        {{ BienImmo?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.adresse?.quartier }}
                      </p> -->
                    </td>
                    <td>
                      <span class="status-text" style="color: red">Vendu</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo.createdAt">{{
                        BienImmo?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.candidatures[0]?.utilisateur?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{ BienImmo?.candidatures[0]?.utilisateur?.nom }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo.candidatures[0].utilisateur.telephone}}
                                                            </div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <pagination-controls *ngIf="bienImmoDejaVendu && bienImmoDejaVendu.length > 0" (pageChange)="p3 = $event"
              previousLabel="Précédent" nextLabel="Suivant" class="pagination" previousClass="pagination__previous"
              nextClass="pagination__next" containerClass="pagination__container" pageClass="pagination__page"
              activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
              id="bienVendu"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des biens vendus  -->

    <!-- Debut des biens vendus AGENCE  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('venduagence')" id="vendu" role="tabpanel"
      aria-labelledby="venduagence-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienVenduTotalAgence && bienVenduTotalAgence.length > 0;
                  else noBiensVenduAgence
                ">
                <h5>Mes biens qui sont vendus</h5>
              </ng-container>
              <ng-template #noBiensVenduAgence>
                <h5>Pas de biens vendus</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="bienVenduTotalAgence && bienVenduTotalAgence.length > 0">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                    placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="table-responsive" *ngIf="bienVenduTotalAgence && bienVenduTotalAgence.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="status">Statut</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Acheteurs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienVenduTotalAgence
                        | filter : searchTextBienVendu
                        | paginate
                          : {
                              itemsPerPage: 4,
                              currentPage: p3,
                              id: 'bienVenduAgence'
                            }
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                          <!-- <div *ngIf="
                              BienImmo.photos;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(BienImmo?.photos)
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Villa'">
                              <img src="../../../../assets/img/typebien/villa.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Appartement'">
                              <img src="../../../../assets/img/typebien/appartement.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Terrain'">
                              <img src="../../../../assets/img/typebien/terrain.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Bureau'">
                              <img src="../../../../assets/img/typebien/bureau.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="BienImmo?.typeImmo?.nom === 'Champ'">
                              <img src="../../../../assets/img/typebien/champ.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                            <div class="type" *ngIf="
                                BienImmo?.typeImmo?.nom === 'Magasin'
                              ">
                              <img src="../../../../assets/img/typebien/magasin.png" class="img-fluid image-size"
                                alt="default-img" />
                            </div>
                          </ng-template> -->
                          {{BienImmo?.reference}}
                        </a>
                      </div>
                    </td>
                    <td>
                      <!-- <h6 *ngIf="BienImmo && BienImmo?.typeImmo">
                        <a (click)="goToDettailBien(BienImmo.uuid)">
                          {{
                          BienImmo?.nom ? BienImmo?.nom : BienImmo?.typeImmo?.nom
                          }}
                        </a>
                      </h6> -->
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo && BienImmo.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo && BienImmo.prix">{{ formatPrice(BienImmo.prix) }}
                          FCFA</span>
                      </div>
                      <!-- <p *ngIf="BienImmo && BienImmo.adresse">
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.pays
                        ?.nompays
                        }}
                        -
                        {{
                        BienImmo?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ BienImmo?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.adresse?.quartier }}
                      </p> -->
                    </td>
                    <td>
                      <span class="status-text" style="color: red">{{
                        BienImmo.statut.nom
                        }}</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo?.createdAt">{{
                        BienImmo?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.candidatures[0]?.utilisateur?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{
                                BienImmo?.candidatures[0]?.utilisateur?.nom
                                }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo?.candidatures[0]?.utilisateur?.telephone}}
                                                            </div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <pagination-controls *ngIf="bienVenduTotalAgence && bienVenduTotalAgence.length > 0"
              (pageChange)="p3 = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
              previousClass="pagination__previous" nextClass="pagination__next" containerClass="pagination__container"
              pageClass="pagination__page" activeClassName="pagination__page--active"
              disabledClass="pagination__page--disabled" id="bienVenduAgence"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des biens AGENCE  -->

    <!-- Debut de mes locations  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('location')" id="location" role="tabpanel"
      aria-labelledby="location-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienImmoDejaLoueLocataire &&
                    bienImmoDejaLoueLocataire.length > 0;
                  else noBiensLoue
                ">
                <h5>Les biens que j'ai loué</h5>
              </ng-container>
              <ng-template #noBiensLoue>
                <h5>Pas de biens loués</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="
                  bienImmoDejaLoueLocataire &&
                  bienImmoDejaLoueLocataire.length > 0
                ">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                    placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="table-responsive" *ngIf="
                bienImmoDejaLoueLocataire &&
                bienImmoDejaLoueLocataire.length > 0
              ">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="details" class="no-sort">Details</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Proprietaires</th>
                    <th mat-sort-header="status">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmoDejaLoueLocataire
                        | filter : searchTextBienVendu
                        | paginate
                          : {
                              itemsPerPage: 4,
                              currentPage: p5,
                              id: 'bienLocataire'
                            }
                    ">
                    <td>
                      <div>
                        <a (click)="goToDettailBien(BienImmo?.uuid)" class="crd">
                          <!-- <div *ngIf="
                              BienImmo?.bien?.photoImmos;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(
                                  BienImmo?.bien?.photoImmos
                                )
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img" />
                          </ng-template> -->
                          {{BienImmo?.reference}}
                        </a>
                      </div>
                    </td>
                    <td>
                      <!-- <h6 *ngIf="BienImmo.bien && BienImmo?.bien?.typeImmo">
                        <a (click)="goToDettailBien(BienImmo?.uuid)">
                          {{
                          BienImmo?.bien?.nom
                          ? BienImmo?.bien?.nom
                          : BienImmo?.bien?.typeImmo?.nom
                          }}
                        </a>
                      </h6> -->
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo.bien && BienImmo?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.bien?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo.bien && BienImmo?.bien?.prix">{{
                          formatPrice(BienImmo?.bien?.prix) }} FCFA</span>
                      </div>
                      <!-- <p *ngIf="BienImmo?.bien && BienImmo?.bien?.adresse">
                        {{
                        BienImmo?.bien?.adresse?.commune?.cercle?.region?.pays
                        ?.nompays
                        }}
                        -
                        {{
                        BienImmo?.bien?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ BienImmo?.bien?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.bien?.adresse?.quartier }}
                      </p> -->
                    </td>
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo?.updatedAt">{{
                        BienImmo?.updatedAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.bien?.proprietaire?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{ BienImmo?.bien?.proprietaire?.nom }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo?.bien?.proprietaire.telephone}}</div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                    <td>
                      <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->
                      <div class="action">
                        <a (click)="openReclamationModal(BienImmo?.bien?.uuid)" data-bs-toggle="modal"
                          data-bs-target="#exampleModal" class="action-btn btn-view crd"> <img class="icone-size"
                            src="../../../../assets/img/iconeBien/réclamation.png" alt="Room amenities" />
                          <span class="hover-text">Faire une reclamation</span>
                        </a>
                        <a (click)="goToListeFacture(BienImmo?.bien?.uuid)" class="action-btn btn-view crd">
                          <img class="icone-size" src="../../../../assets/img/iconeBien/facture1.png"
                            alt="Room amenities" />
                          <span class="hover-text">Voir les factures</span>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- Modal pour faire une reclamation  -->
              <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">
                        Faire une reclamation
                      </h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalContent">
                      <form>
                        <input type="hidden" [(ngModel)]="selectedBienImmoId" name="selectedBienImmoId" />
                        <div class="row">
                          <div class="col-md-6 mb-3">
                            <label for="recipient-name" class="col-form-label">Type de probleme
                              <span style="color: red">*</span></label>
                            <div class="pass-group group-img">
                              <select [(ngModel)]="form.type" name="type" class="form-control" id="">
                                <option *ngFor="let item of probleme" [value]="item.id">
                                  {{ item?.nom }}
                                </option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6 mb-3">
                            <label class="col-form-label">Prix estimatif <span>*</span></label>
                            <input type="number" pattern="[0-9]" class="form-control pass-input" name="prix_estimatif"
                              [(ngModel)]="form.prix_estimatif" placeholder="FCFA" />
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="message-text" class="col-form-label">Description de la reclamation
                            <span style="color: red">*</span></label>
                          <textarea name="contenu" [(ngModel)]="form.contenu" class="form-control" id="message-text"
                            placeholder="Description"></textarea>
                        </div>
                        <div class="mb-3">
                          <div class="row">
                            <div class="featured-img1">
                              <h6 class="media-title">
                                Images biens <span>*</span>
                              </h6>
                              <div class="media-image">
                                <div class="row">
                                  <div *ngFor="
                                      let imageUrl of image;
                                      let i = index
                                    " class="col-lg-3 col-md-6 image-container m-1">
                                    <img class="image-size m-3" [src]="imageUrl" alt="Image {{ i }}" />
                                    <button class="close-button" (click)="removeImage(i)">
                                      <i class="fas fa-times close-icon"></i>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="settings-upload-btn">
                              <input type="file" id="photo" name="photo" (change)="onFileSelected($event)" multiple
                                class="hide-input image-upload" [disabled]="maxImageCount >= 4" />
                              <label for="file" class="file-upload">Ajouter l'image</label>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Annuler
                      </button>
                      <button type="button" class="btn btn-primary" (click)="FaireReclamation()" [disabled]="
                          !form.type ||
                          form.type.trim() === '' ||
                          !form.contenu ||
                          form.contenu.trim() === ''
                        ">
                        Envoyer
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Modal pour la facture  -->
              <div class="modal fade" id="staticBackdrop1" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="facturelocation" #facturelocation>
                      <div class="modal-header">
                        <h5 style="font-size: 15px; margin-left: auto" class="modal-title text-center"
                          id="staticBackdropLabel">
                          Facture a partir de la plateforme
                          <span style="color: #e98b11">Sossara</span>
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <div class="row">
                          <h5 style="font-size: 15px" class="modal-title text-center" id="staticBackdropLabel">
                            Facture du mois
                            <span style="color: #e98b11">{{
                              today | date : "MMMM YYYY"
                              }}</span>
                          </h5>
                          <div class="receipt-main">
                            <div class="row">
                              <div class="col-xs-7 col-sm-7 col-md-7">
                                <div class="receipt-left" *ngIf="transaction && transaction?.utilisateur">
                                  <img class="img-responsive" alt="iamgurdeeposahan" src="{{
                                      generateImageUrl(
                                        transaction?.utilisateur?.photo
                                      )
                                    }}" style="width: 71px; border-radius: 43px"
                                    (error)="handleAuthorImageError($event)" />
                                </div>
                              </div>
                              <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                <div class="receipt-right">
                                  <h5 *ngIf="
                                      transaction &&
                                      transaction?.bien &&
                                      transaction?.bien?.utilisateur
                                    ">
                                    {{ transaction?.bien?.utilisateur?.nom }}
                                  </h5>
                                  <p *ngIf="
                                      transaction &&
                                      transaction?.bien &&
                                      transaction?.bien?.utilisateur
                                    ">
                                    <b>Mobile :</b>
                                    {{ transaction?.bien?.utilisateur?.telephone }}
                                  </p>
                                  <p *ngIf="
                                      transaction &&
                                      transaction?.bien &&
                                      transaction?.bien?.utilisateur
                                    ">
                                    <b>Email :</b>
                                    {{ transaction?.bien?.utilisateur?.email }}
                                  </p>
                                  <p><b>Address :</b> New York, USA</p>
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                <div class="receipt-right">
                                  <h5 *ngIf="
                                      transaction && transaction?.utilisateur
                                    ">
                                    {{ transaction?.utilisateur?.nom }}
                                  </h5>
                                  <p *ngIf="
                                      transaction && transaction?.utilisateur
                                    ">
                                    <b>Mobile :</b>
                                    {{ transaction?.utilisateur?.telephone }}
                                  </p>
                                  <p *ngIf="
                                      transaction && transaction?.utilisateur
                                    ">
                                    <b>Email :</b>
                                    {{ transaction?.utilisateur?.email }}
                                  </p>
                                  <p><b>Address :</b> New York, USA</p>
                                </div>
                              </div>
                              <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                <div class="receipt-left">
                                  <h5 style="font-size: 15px" *ngIf="transaction">
                                    FACTURE N 00{{ transaction?.id }}
                                  </h5>
                                </div>
                              </div>
                            </div>

                            <div>
                              <table class="table table-bordered mt-3">
                                <thead class="text-center">
                                  <tr>
                                    <th>Description</th>
                                    <th>Prix</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td class="col-md-7" *ngIf="
                                        transaction &&
                                        transaction?.bien &&
                                        transaction?.bien?.typeImmo
                                      ">
                                      {{
                                      transaction?.bien?.nom
                                      ? transaction?.bien?.nom
                                      : transaction?.bien?.typeImmo?.nom
                                      }}
                                    </td>
                                    <td class="col-md-5 text-center" *ngIf="transaction">
                                      {{ formatPrice(transaction?.somme) }}
                                      FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="col-md-7">Prix du bien</td>
                                    <td class="col-md-5 text-center">
                                      0000 FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="col-md-7">Prix du bien</td>
                                    <td class="col-md-5 text-center">
                                      0000 FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="text-right">
                                      <p>
                                        <strong>Total prix: </strong>
                                      </p>
                                      <p>
                                        <strong>Montant paye: </strong>
                                      </p>
                                    </td>
                                    <td class="text-center">
                                      <p *ngIf="transaction">
                                        <strong>
                                          {{ formatPrice(transaction?.somme) }}
                                          FCFA</strong>
                                      </p>
                                      <p *ngIf="transaction">
                                        <strong>
                                          {{ formatPrice(transaction?.somme) }}
                                          FCFA</strong>
                                      </p>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="text-right">
                                      <h2><strong>Total: </strong></h2>
                                    </td>
                                    <td class="text-left text-danger text-center">
                                      <h2 *ngIf="transaction">
                                        <strong>
                                          {{ formatPrice(transaction?.somme) }}
                                          FCFA</strong>
                                      </h2>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>

                            <div class="row text-center">
                              <div class="receipt-header receipt-header-mid receipt-footer">
                                <div>
                                  <div class="receipt-right">
                                    <p>
                                      <b>Date :</b>
                                      {{ today | date : "dd MMMM yyyy" }}
                                    </p>
                                    <h5 style="color: rgb(140, 140, 140)">
                                      Merci pour la confiance.!
                                    </h5>
                                  </div>
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-4"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Retour
                      </button>
                      <button type="button" (click)="genererPDFLocation()" class="btn btn-primary">
                        Generer la facture
                      </button>
                      <!-- Indicateur de chargement -->
                      <div *ngIf="loading" class="spinner-border text-primary" role="status">
                        <span class="sr-only">Chargement en cours...</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <pagination-controls *ngIf="
                bienImmoDejaLoueLocataire &&
                bienImmoDejaLoueLocataire.length > 0
              " (pageChange)="p5 = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
              previousClass="pagination__previous" nextClass="pagination__next" containerClass="pagination__container"
              pageClass="pagination__page" activeClassName="pagination__page--active"
              disabledClass="pagination__page--disabled" id="bienLocataire"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin de mes locations  -->
    <!-- Debut des biens achetes  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('achete')" id="achete" role="tabpanel"
      aria-labelledby="achete-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="
                  bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0;
                  else noBiensAchete
                ">
                <h5>Les biens que j'ai acheté</h5>
              </ng-container>
              <ng-template #noBiensAchete>
                <h5>Pas de biens achetés</h5>
              </ng-template>
              <div class="filter-content form-group" *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0">
                <div class="group-img">
                  <input [(ngModel)]="searchTextBienVendu" type="text" class="form-control"
                    placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="table-responsive" *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Référence</th>
                    <th mat-sort-header="view">Date</th>
                    <th mat-sort-header="Action">Proprietaires</th>
                    <th mat-sort-header="status">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let BienImmo of bienImmoUserAAcheter
                        | filter : searchTextBienVendu
                        | paginate
                          : {
                              itemsPerPage: 4,
                              currentPage: p5,
                              id: 'bienAcheter'
                            }
                    ">
                    <!-- <td> 
                      <div class="listingtable-img">
                        <a (click)="goToDettailBien(BienImmo?.uuid)">
                          <div *ngIf="
                              BienImmo.bien &&
                                BienImmo?.bien?.photoImmos &&
                                BienImmo?.bien?.photoImmos?.length > 0;
                              else noImages
                            ">
                            <img src="{{
                                generateImageUrl(
                                  BienImmo?.bien?.photoImmos[0]?.nom
                                )
                              }}" class="img-fluid image-size" alt="blog-img" />
                          </div>
                          <ng-template #noImages>
                            <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img" />
                          </ng-template>
                        </a>
                      </div>
                    </td> -->
                    <td>
                      <h6  style="cursor: pointer;"><a
                          (click)="goToDettailBien(BienImmo.bien.uuid)">
                          {{BienImmo?.bien?.reference}}
                      </a>
                  </h6>
                      
                      <div class="listingtable-rate">
                          <a *ngIf="BienImmo?.bien && BienImmo?.bien?.typeImmo"
                              href="javascript:void(0)" class="cat-icon">
                              <i class="fa-regular fa-circle-stop"></i>
                              {{BienImmo?.bien?.typeImmo?.nom}}
                          </a> <span class="discount-amt"
                              *ngIf="BienImmo?.bien && BienImmo?.bien?.prix">{{
                              formatPrice(BienImmo?.bien?.prix) }}
                              FCFA</span>

                      </div>
                     
                  </td>
                    <!-- <td>
                      <h6 *ngIf="BienImmo?.bien && BienImmo?.bien?.typeImmo">
                        <a (click)="goToDettailBien(BienImmo?.uuid)">
                          {{
                          BienImmo?.bien?.nom
                          ? BienImmo?.bien?.nom
                          : BienImmo?.bien?.typeImmo?.nom
                          }}
                        </a>
                      </h6>
                      <div class="listingtable-rate">
                        <a *ngIf="BienImmo?.bien && BienImmo?.bien?.typeImmo" href="javascript:void(0)"
                          class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ BienImmo?.bien?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="BienImmo.bien && BienImmo?.bien?.prix">{{
                          formatPrice(BienImmo?.bien?.prix) }} FCFA</span>
                      </div>

                      <p *ngIf="BienImmo?.bien && BienImmo?.bien?.adresse">
                        {{
                        BienImmo?.bien?.adresse?.commune?.cercle?.region?.pays
                        .nompays
                        }}
                        -
                        {{
                        BienImmo?.bien?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ BienImmo?.bien?.adresse?.commune?.nomcommune }} -
                        {{ BienImmo?.bien?.adresse?.quartier }}
                      </p>
                    </td> -->
                    <td>
                      <span class="views-count" *ngIf="BienImmo && BienImmo?.createdAt">{{
                        BienImmo?.updatedAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <ul class="review-list">
                        <li class="review-box">
                          <!-- <div class="review-profile">
                                                            <div class="review-img">
                                                                <img src="{{generateImageUrl(BienImmo?.bien?.proprietaire?.photo?.nom)}}"
                                                                    class="img-fluid" alt="img"
                                                                    (error)="handleAuthorImageError($event)">
                                                            </div>
                                                        </div> -->
                          <div class="review-details">
                            <div class="tes">
                              <div class="views-count">
                                {{ BienImmo?.bien?.proprietaire?.nom }}
                              </div>
                            </div>
                            <!-- <div>Tel : {{BienImmo?.bien?.proprietaire.telephone}}</div> -->
                            <!-- <p>ffff</p>																	 -->
                          </div>
                        </li>
                      </ul>
                    </td>
                    <td>
                      <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->
                      <div class="action">
                        <!-- <a (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    class="action-btn btn-view crd"><i class="feather-eye"></i>
                                                    <span class="hover-text">Faire une reclamation</span>
                                                </a> -->
                        <a (click)="goToPageContrat(BienImmo?.bien?.contrat[0]?.uuid)" class="action-btn btn-view crd">
                          <img class="icone-size" src="../../../../assets/img/iconeBien/contrat.png"
                            alt="Room amenities">
                          <span class="hover-text">Voir le contrat</span>
                        </a>
                        <a (click)="goToListeRecu(BienImmo?.bien?.contrat[0]?.facture[0]?.uuid)"
                          class="action-btn btn-view crd">
                          <img class="icone-size" src="../../../../assets/img/iconeBien/reçu.png" alt="Room amenities">
                          <span class="hover-text">Voir le reçu</span>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- Modal pour la facture  -->
              <div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="factureachat" #factureachat>
                      <div class="modal-header">
                        <h5 style="font-size: 15px; margin-left: auto" class="modal-title text-center"
                          id="staticBackdropLabel">
                          Facture a partir de la plateforme
                          <span style="color: #e98b11">Sossara</span>
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <div class="row">
                          <h5 style="font-size: 15px" class="modal-title text-center" id="staticBackdropLabel">
                            <span style="color: #e98b11">Achat</span>
                          </h5>
                          <div class="receipt-main">
                            <div class="row">
                              <div class="col-xs-7 col-sm-7 col-md-7">
                                <div class="receipt-left" *ngIf="
                                    transactionVendue &&
                                    transactionVendue?.utilisateur
                                  ">
                                  <img class="img-responsive" alt="iamgurdeeposahan" src="{{
                                      generateImageUrl(
                                        transactionVendue?.utilisateur?.photo
                                      )
                                    }}" style="width: 71px; border-radius: 43px"
                                    (error)="handleAuthorImageError($event)" />
                                </div>
                              </div>
                              <div class="col-xs-5 col-sm-5 col-md-5 text-right">
                                <div class="receipt-right">
                                  <h5 *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.bien &&
                                      transactionVendue?.bien?.utilisateur
                                    ">
                                    {{ transactionVendue?.bien?.utilisateur?.nom }}
                                  </h5>
                                  <p *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.bien &&
                                      transactionVendue?.bien?.utilisateur
                                    ">
                                    <b>Mobile :</b>
                                    {{
                                    transactionVendue?.bien?.utilisateur
                                    .telephone
                                    }}
                                  </p>
                                  <p *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.bien &&
                                      transactionVendue?.bien?.utilisateur
                                    ">
                                    <b>Email :</b>
                                    {{
                                    transactionVendue.bien.utilisateur.email
                                    }}
                                  </p>
                                  <p><b>Address :</b> New York, USA</p>
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-xs-7 col-sm-7 col-md-7 text-left">
                                <div class="receipt-right">
                                  <h5 *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.utilisateur
                                    ">
                                    {{ transactionVendue?.utilisateur?.nom }}
                                  </h5>
                                  <p *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.utilisateur
                                    ">
                                    <b>Mobile :</b>
                                    {{
                                    transactionVendue?.utilisateur?.telephone
                                    }}
                                  </p>
                                  <p *ngIf="
                                      transactionVendue &&
                                      transactionVendue?.utilisateur
                                    ">
                                    <b>Email :</b>
                                    {{ transactionVendue?.utilisateur?.email }}
                                  </p>
                                  <p><b>Address :</b> New York, USA</p>
                                </div>
                              </div>
                              <div class="col-xs-5 col-sm-5 col-md-5 mt-3">
                                <div class="receipt-left">
                                  <h5 style="font-size: 15px" *ngIf="transactionVendue">
                                    FACTURE N 00{{ transactionVendue?.id }}
                                  </h5>
                                </div>
                              </div>
                            </div>

                            <div>
                              <table class="table table-bordered mt-3">
                                <thead class="text-center">
                                  <tr>
                                    <th>Description</th>
                                    <th>Prix</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td class="col-md-7" *ngIf="
                                        transactionVendue &&
                                        transactionVendue?.bien &&
                                        transactionVendue?.bien?.typeImmo
                                      ">
                                      {{
                                      transactionVendue?.bien?.nom
                                      ? transactionVendue?.bien?.nom
                                      : transactionVendue?.bien?.typeImmo?.nom
                                      }}
                                    </td>
                                    <td class="col-md-5 text-center" *ngIf="transactionVendue">
                                      {{ formatPrice(transactionVendue?.somme) }}
                                      FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="col-md-7">Prix du bien</td>
                                    <td class="col-md-5 text-center">
                                      0000 FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="col-md-7">Prix du bien</td>
                                    <td class="col-md-5 text-center">
                                      0000 FCFA
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="text-right">
                                      <p>
                                        <strong>Total prix: </strong>
                                      </p>
                                      <p>
                                        <strong>Montant paye: </strong>
                                      </p>
                                    </td>
                                    <td class="text-center">
                                      <p *ngIf="transactionVendue">
                                        <strong>
                                          {{
                                          formatPrice(transactionVendue?.somme)
                                          }}
                                          FCFA</strong>
                                      </p>
                                      <p *ngIf="transactionVendue">
                                        <strong>
                                          {{
                                          formatPrice(transactionVendue?.somme)
                                          }}
                                          FCFA</strong>
                                      </p>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td class="text-right">
                                      <h2><strong>Total: </strong></h2>
                                    </td>
                                    <td class="text-left text-danger text-center">
                                      <h2 *ngIf="transactionVendue">
                                        <strong>
                                          {{
                                          formatPrice(transactionVendue?.somme)
                                          }}
                                          FCFA</strong>
                                      </h2>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>

                            <div class="row text-center">
                              <div class="receipt-header receipt-header-mid receipt-footer">
                                <div>
                                  <div class="receipt-right">
                                    <p>
                                      <b>Date :</b>
                                      {{ today | date : "dd MMMM yyyy" }}
                                    </p>
                                    <h5 style="color: rgb(140, 140, 140)">
                                      Merci pour la confiance.!
                                    </h5>
                                  </div>
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-4"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Retour
                      </button>
                      <button type="button" (click)="genererPDFAchat()" class="btn btn-primary">
                        Generer la facture
                      </button>
                      <!-- Indicateur de chargement -->
                      <div *ngIf="loading" class="spinner-border text-primary" role="status">
                        <span class="sr-only">Chargement en cours...</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <pagination-controls *ngIf="bienImmoUserAAcheter && bienImmoUserAAcheter.length > 0"
              (pageChange)="p6 = $event" previousLabel="Précédent" nextLabel="Suivant" class="pagination"
              previousClass="pagination__previous" nextClass="pagination__next" containerClass="pagination__container"
              pageClass="pagination__page" activeClassName="pagination__page--active"
              disabledClass="pagination__page--disabled" id="bienAcheter"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des biens achetes  -->

    <!-- Debut des candidatures sur mes biens  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidatureMesbiens')" id="candidatureMesbiens"
      role="tabpanel" aria-labelledby="candidatureMesbiens-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <div class="card dash-cards  w-100">
                <div class="card-header">
                    <h4>Les candidatures</h4>
                    <div class="card-dropdown">
                        <ul>
                            <li class="nav-item dropdown has-arrow logged-item">
                                <a href="#" class="dropdown-toggle pageviews-link" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    <span>Tout</span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item" href="javascript:void(0)">Semaine passee</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Cette senaine</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Semaine prochaine</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="ligne">
                    <div class="card-body">
                        <ul class="review-list">
                            <ng-container *ngIf="
                            candidature && candidature.length > 0;else noCandidature">
                            <div  class="table-responsive">
                              <table  class="listing-table datatable" id="listdata-table">
                                <thead>
                                  <tr>
                                    <th  class="no-sort">
                                      Référence du bien
                                      </th>
                                      <th >Date & Heure</th>
                                      <!-- <th >Heure</th> -->
                                      <th >Statuts</th>
                                      <th  class="no-sort">Candidat</th>
                                    <th >Action</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="
                                     let candidature of candidature
                                   ">
                                    
                                    <td>
                                      <h6 *ngIf="candidature?.bien && candidature?.bien?.typeImmo">
                                        <a style="cursor: pointer;"
                                          (click)="goToDettailBien(candidature.bien.uuid)">
                                          {{
                                          candidature?.bien?.reference
                                          }}
                                        </a>
                                      </h6>
                                      <div class="listingtable-rate">
                                        <a *ngIf="candidature?.bien && candidature?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                                          <i class="fa-regular fa-circle-stop"></i>
                                          {{ candidature?.bien?.typeImmo?.nom }}
                                        </a>
                                        <span class="discount-amt" *ngIf="candidature?.bien && candidature?.bien?.prix">{{
                                          formatPrice(candidature?.bien?.prix) }} FCFA</span>
                                      </div>
                                     
                                    </td>
                
                                    <td>
                                      <span class="views-count" *ngIf="candidature && candidature?.createdAt">{{
                                        candidature?.createdAt | date : "dd MMM yyyy" : locale
                                        }} à {{candidature?.createdAt
                                          |
                                          date:"HH:mm"}}</span>
                                    </td>
                                   
                                    <td *ngIf="candidature?.bien?.statut?.nom === 'A vendre'">
                                      <span [ngClass]="{
                                         unpublish: candidature?.bien?.statut?.nom === 'A vendre'
                                       }" class="status-text">Vente</span>
                                    </td>
                                    <td *ngIf="candidature?.bien?.statut?.nom === 'A louer'">
                                      <span [ngClass]="{
                                         unpublish: candidature?.bien?.statut?.nom === 'A vendre'
                                       }" class="status-text">Location</span>
                                    </td>
                                    <td>
                                      <div>
                                        <a  >
                                         
                                          <h6>{{candidature?.utilisateur?.nom}}</h6>
                                        </a>
                                      </div>
                                      
                                    </td>
                                    <td>
                                      <div class="action">
                                        <a  (click)="goToPageContrat(candidature?.contrats?.uuid)" (click)="getidCandidature(candidature?.id)" class="action-btn btn-view crd"> <img class="icone-size"
                                          src="../../../../assets/img/iconeBien/contrat.png"
                                          alt="Room amenities">
                                      <span class="hover-text">Voir le contrat</span></a>
                                      </div>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                             
                            </div>
                            </ng-container>
                            <ng-template #noCandidature>
                                <h4 style="font-size: 17px;">Pas de candidature</h4>
                            </ng-template>
                        </ul>
                    </div>
                </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidatures sur mes biens -->

    <!-- Debut des candidature accepter sur mes biens  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidatureaccepterMesBiens')"
      id="candidatureaccepterMesBiens" role="tabpanel" aria-labelledby="candidatureaccepterMesBiens-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <div class="card dash-cards w-100">
                <div class="card-header">
                    <h4>Mes candidatures acceptées</h4>
                    <div class="card-dropdown">
                        <ul>
                            <li class="nav-item dropdown has-arrow logged-item">
                                <a href="#" class="dropdown-toggle pageviews-link" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    <span>Tout</span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item" href="javascript:void(0)">Semaine passee</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Cette senaine</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Semaine prochaine</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="ligne">
                    <div class="card-body">
                        <ul class="review-list">
                            <ng-container *ngIf="
                            candidatureAccepter && candidatureAccepter.length > 0;else noCandidatureAcc">

                                <div class="table-responsive" >
                                  <table  class="listing-table datatable" id="listdata-table">
                                    <thead>
                                      <tr>
                                        <th  class="no-sort">
                                          Référence du bien
                                          </th>
                                          <th >Date & Heure</th>
                                          <!-- <th >Heure</th> -->
                                          <th >Statuts</th>
                                          <th  class="no-sort">Candidat</th>
                                        <th >Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr *ngFor="
                                         let CandidatureAccepter of candidatureAccepter
                                       ">
                                        
                                        <td>
                                          <h6 *ngIf="CandidatureAccepter?.bien && CandidatureAccepter?.bien?.typeImmo">
                                            <a style="cursor: pointer;"
                                              (click)="goToDettailBien(CandidatureAccepter.bien.uuid)">
                                              {{
                                                CandidatureAccepter?.bien?.reference
                                              }}
                                            </a>
                                          </h6>
                                          <div class="listingtable-rate">
                                            <a *ngIf="CandidatureAccepter?.bien && CandidatureAccepter?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                                              <i class="fa-regular fa-circle-stop"></i>
                                              {{ CandidatureAccepter?.bien?.typeImmo?.nom }}
                                            </a>
                                            <span class="discount-amt" *ngIf="CandidatureAccepter?.bien && CandidatureAccepter?.bien?.prix">{{
                                              formatPrice(CandidatureAccepter?.bien?.prix) }} FCFA</span>
                                          </div>
                                         
                                        </td>
                    
                                        <td>
                                          <span class="views-count" *ngIf="CandidatureAccepter && CandidatureAccepter?.createdAt">{{
                                            CandidatureAccepter?.createdAt | date : "dd MMM yyyy" : locale
                                            }} à {{CandidatureAccepter?.createdAt
                                              |
                                              date:"HH:mm"}}</span>
                                        </td>
                                       
                                        <td *ngIf="CandidatureAccepter?.bien?.statut?.nom === 'A vendre'">
                                          <span [ngClass]="{
                                             unpublish: CandidatureAccepter?.bien?.statut?.nom === 'A vendre'
                                           }" class="status-text">Vente</span>
                                        </td>
                                        <td *ngIf="CandidatureAccepter?.bien?.statut?.nom === 'A louer'">
                                          <span [ngClass]="{
                                             unpublish: CandidatureAccepter?.bien?.statut?.nom === 'A vendre'
                                           }" class="status-text">Location</span>
                                        </td>
                                        <td>
                                          <div>
                                            <a  >
                                             
                                              <h6>{{CandidatureAccepter?.utilisateur?.nom}}</h6>
                                            </a>
                                          </div>
                                          
                                        </td>
                                        <td>
                                          <div class="action">
                                            <a  (click)="goToPageContrat(CandidatureAccepter?.contrats?.uuid)" class="action-btn btn-view crd"> <img class="icone-size"
                                              src="../../../../assets/img/iconeBien/contrat.png"
                                              alt="Room amenities">
                                          <span class="hover-text">Voir le contrat</span></a>
                                          </div>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                 
                                </div>
                            </ng-container>
                            <ng-template #noCandidatureAcc>
                                <h4 style="font-size: 17px;">Pas de candidature acceptée</h4>
                            </ng-template>
                        </ul>
                    </div>
                </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidature accepter sur mes biens -->

    <!-- Debut des candidature annuler sur mes biens  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidatureannulerMesBiens')"
      id="candidatureannulerMesBiens" role="tabpanel" aria-labelledby="candidatureannulerMesBiens-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <!-- <div class="card dash-cards w-100"> -->
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Mes candidatures annulées</h4>
                  <div class="card-dropdown">
                    <ul>
                      <li class="nav-item dropdown has-arrow logged-item">
                        <a href="#" class="dropdown-toggle pageviews-link" data-bs-toggle="dropdown"
                          aria-expanded="false">
                          <span>Tout</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                          <a class="dropdown-item" href="javascript:void(0)">Semaine passee</a>
                          <a class="dropdown-item" href="javascript:void(0)">Cette senaine</a>
                          <a class="dropdown-item" href="javascript:void(0)">Semaine prochaine</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="ligne">
                  <div class="card-body">
                    <ul class="review-list">
                      <ng-container *ngIf="
                              candidatureAnnuler && candidatureAnnuler.length > 0;else noCandidatureAcc">


                        <div class="table-responsive">
                          <table  class="listing-table datatable" id="listdata-table">
                            <thead>
                              <tr>
                                <th  class="no-sort">
                                  Référence du bien
                                  </th>
                                  <th >Date & Heure</th>
                                  <!-- <th >Heure</th> -->
                                  <th >Statuts</th>
                                  <th  class="no-sort">Candidat</th>
                                <th >Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="
                                 let CandidatureAnnuler of candidatureAnnuler
                               ">
                                
                                <td>
                                  <h6 *ngIf="CandidatureAnnuler?.bien && CandidatureAnnuler?.bien?.typeImmo">
                                    <a style="cursor: pointer;"
                                      (click)="goToDettailBien(CandidatureAnnuler.bien.uuid)">
                                      {{
                                        CandidatureAnnuler?.bien?.reference
                                      }}
                                    </a>
                                  </h6>
                                  <div class="listingtable-rate">
                                    <a *ngIf="CandidatureAnnuler?.bien && CandidatureAnnuler?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                                      <i class="fa-regular fa-circle-stop"></i>
                                      {{ CandidatureAnnuler?.bien?.typeImmo?.nom }}
                                    </a>
                                    <span class="discount-amt" *ngIf="CandidatureAnnuler?.bien && CandidatureAnnuler?.bien?.prix">{{
                                      formatPrice(CandidatureAnnuler?.bien?.prix) }} FCFA</span>
                                  </div>
                                 
                                </td>
            
                                <td>
                                  <span class="views-count" *ngIf="CandidatureAnnuler && CandidatureAnnuler?.createdAt">{{
                                    CandidatureAnnuler?.createdAt | date : "dd MMM yyyy" : locale
                                    }} à {{CandidatureAnnuler?.createdAt
                                      |
                                      date:"HH:mm"}}</span>
                                </td>
                               
                                <td *ngIf="CandidatureAnnuler?.bien?.statut?.nom === 'A vendre'">
                                  <span [ngClass]="{
                                     unpublish: CandidatureAnnuler?.bien?.statut?.nom === 'A vendre'
                                   }" class="status-text">Vente</span>
                                </td>
                                <td *ngIf="CandidatureAnnuler?.bien?.statut?.nom === 'A louer'">
                                  <span [ngClass]="{
                                     unpublish: CandidatureAnnuler?.bien?.statut?.nom === 'A vendre'
                                   }" class="status-text">Location</span>
                                </td>
                                <td>
                                  <div>
                                    <a  >
                                     
                                      <h6>{{CandidatureAnnuler?.utilisateur?.nom}}</h6>
                                    </a>
                                  </div>
                                  
                                </td>
                                <td>
                                  <div class="action">
                                    <a   > 
                                  Annulée</a>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                         
                        </div>
                      </ng-container>
                      <ng-template #noCandidatureAcc>
                        <h4 style="font-size: 17px;">Pas de candidature annulée</h4>
                      </ng-template>
                    </ul>
                  </div>
                </div>
              </div>
              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidature annuler sur mes biens -->

    <!-- Debut des candidatures  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidature')" id="candidature" role="tabpanel"
      aria-labelledby="candidature-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <div class="card dash-cards w-100">
                <app-candidatures></app-candidatures>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidatures -->

    <!-- Debut des candidature accepter  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidatureaccepter')" id="candidatureaccepter"
      role="tabpanel" aria-labelledby="candidatureaccepter-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <div class="card dash-cards w-100">
                <app-candidatures-accepter></app-candidatures-accepter>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidature accepter -->

    <!-- Debut des candidature annuler  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('candidatureannuler')" id="candidatureannuler"
      role="tabpanel" aria-labelledby="candidatureannuler-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex">
              <div class="card dash-cards w-100">
                <app-candidatures-annuler></app-candidatures-annuler>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des candidature annuler -->

    <!-- Debut des reclamations que j'ai fait  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('reclamationfait')" id="reclamationfait" role="tabpanel"
      aria-labelledby="reclamationfait-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex" *ngIf="reclamationUser && reclamationUser?.length > 0">
              <div class="card dash-cards w-100">
                <app-mes-reclamations></app-mes-reclamations>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="reclamationUser && reclamationUser?.length == 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Vous n'avez pas fait de reclamation</h4>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des reclamations que j'ai fait  -->
    <!-- Debut des reclamations que j'ai fait  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('reclamationconcernantbien')"
      id="reclamationconcernantbien" role="tabpanel" aria-labelledby="reclamationconcernantbien-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex" *ngIf="reclamation && reclamation?.length == 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Pas de reclamations sur vos biens</h4>
                </div>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="reclamation && reclamation?.length > 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Les reclamations sur mes biens</h4>
                </div>
                <div class="ligne">
                  <div class="card-body">
                    <div id="review-chart">
                      <ul class="review-list">
                        <li class="review-box" *ngFor="let Reclamation of reclamation">
                          <div class="review-profile">
                            <div class="review-img">
                              <img src="{{
                                  generateImageUrl(
                                    Reclamation?.utilisateur?.photo
                                  )
                                }}" class="img-fluid" alt="img" (error)="handleAuthorImageError($event)" />
                            </div>
                          </div>
                          <div class="review-details">
                            <h6>{{ Reclamation?.utilisateur?.nom }}</h6>
                            <div class="rating">
                              <div class="rating-star">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i style="color: #e98b11; font-weight: bold"
                                  class="fa-sharp fa-solid fa-calendar-days"></i>
                                {{
                                Reclamation?.createdAt
                                | date : "dd MMM yyyy" : locale
                                }}
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i class="fa-sharp fa-solid fa-clock"></i>{{ Reclamation?.createdAt | date : "HH:mm" }}
                              </div>
                            </div>
                            <div class="row mb-3">
                              <div class="col" *ngIf="
                                  Reclamation &&
                                  Reclamation?.bien &&
                                  Reclamation?.bien?.typeImmo
                                ">
                                {{
                                Reclamation?.bien?.nom
                                ? Reclamation?.bien?.nom
                                : Reclamation?.bien?.typeImmo?.nom
                                }}
                              </div>
                              <div class="col" style="color: #e98b11; font-weight: bold"
                                *ngIf="Reclamation && Reclamation?.bien">
                                {{ formatPrice(Reclamation?.bien?.prix) }} FCFA
                              </div>
                            </div>
                            <ul class="review-gallery">
                              <li *ngFor="
                                  let photo of Reclamation?.bien?.photos.slice(
                                    0,
                                    4
                                  );
                                  let i = index
                                ">
                                <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                              </li>
                              <ng-container *ngIf="Reclamation?.bien?.photos?.length === 0">
                                <li *ngFor="let _ of [1, 2, 3, 4]">
                                  <img class="img-fluid" alt="Image par défaut"
                                    src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                </li>
                              </ng-container>
                            </ul>
                            <div class="m-3" *ngIf="
                                Reclamation &&
                                Reclamation?.type_probleme &&
                                Reclamation?.type_probleme?.nom
                              ">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-circle-exclamation"></i>
                              Probleme : {{ Reclamation?.type_probleme.nom }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.contenu">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Motif : {{ Reclamation?.contenu }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.prix_estimatif">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Cout :
                              <span style="color: #e98b11; font-weight: bold">
                                {{ formatPrice(Reclamation?.prix_estimatif) }}
                                FCFA
                              </span>
                            </div>
                            <div class="row">
                              <div class="col">
                                <p class="blog-category">
                                  <a data-bs-toggle="collapse" href="#quelquesimages" role="button"
                                    aria-expanded="false" aria-controls="collapseExample"><span>Quelques
                                      images</span></a>
                                </p>
                              </div>
                            </div>
                            <div class="collapse" id="quelquesimages">
                              <ul class="review-gallery">
                                <li *ngFor="
                                    let photo of Reclamation?.photoReclamations?.slice(
                                      0,
                                      4
                                    );
                                    let i = index
                                  ">
                                  <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                                </li>
                                <ng-container *ngIf="
                                    Reclamation?.photoReclamations?.length === 0
                                  ">
                                  <li *ngFor="let _ of [1, 2, 3, 4]">
                                    <!-- Répéter 4 fois -->
                                    <img class="img-fluid" alt="Image par défaut"
                                      src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                  </li>
                                </ng-container>
                              </ul>
                            </div>
                            <div class="row mt-1">
                              <div class="row scroll-text">
                                <div class="scroll-textl">
                                  {{ Reclamation?.charge }}
                                </div>
                                <!-- <div class="scroll-textl"
                                                                    *ngIf="Reclamation && Reclamation.prix_estimatif <= 10000">
                                                                    Confirmer, Locataire paie</div>
                                                                <div class="scroll-textl"
                                                                    *ngIf="Reclamation && Reclamation.prix_estimatif >= 10000">
                                                                    Confirmer, c'est a votre charge</div> -->
                              </div>
                            </div>
                            <div class="row mt-3">
                              <div class="col">
                                <button type="button" class="btn btn-outline-success" (click)="
                                    LancerProcessusReparation(
                                      Reclamation?.id
                                    )
                                  ">
                                  <i class="fas fa-times"></i> Confirmer
                                </button>
                              </div>
                              <!-- <div class="col"
                                                                *ngIf="Reclamation && Reclamation.prix_estimatif >= 10000">
                                                                <button type="button"
                                                                    class="btn btn-outline-success"
                                                                    (click)="LancerProcessusReparation(Reclamation.bien.id)"><i
                                                                        class="fas fa-check"></i>
                                                                    Je prend</button>
                                                            </div> -->
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des reclamations que j'ai fait  -->
    <!-- Debut des processus de reclamations lancees que j'ai fait  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('reclamationlance')" id="reclamationlance"
      role="tabpanel" aria-labelledby="reclamationlance-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex" *ngIf="
                reclamationProcessusLance &&
                reclamationProcessusLance?.length == 0
              ">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Aucun processus lancé</h4>
                </div>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="
                reclamationProcessusLance &&
                reclamationProcessusLance?.length > 0
              ">
              <div class="card dash-cards w-100">
                <app-processus-lances></app-processus-lances>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des processus de reclamations lancees que j'ai fait  -->
    <!-- Debut des processus de reclamations lancees que j'ai fait  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('reclamationlancebien')" id="reclamationlancebien"
      role="tabpanel" aria-labelledby="reclamationlancebien-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex" *ngIf="reclamationLancer && reclamationLancer?.length == 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Aucun processus lancé</h4>
                </div>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="reclamationLancer && reclamationLancer?.length > 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Les processus de reclamation encours de mes biens</h4>
                </div>
                <div class="ligne">
                  <div class="card-body">
                    <div id="review-chart">
                      <ul class="review-list">
                        <li class="review-box" *ngFor="let Reclamation of reclamationLancer">
                          <div class="review-profile">
                            <div class="review-img">
                              <img src="{{
                                  generateImageUrl(
                                    Reclamation?.utilisateur?.photo
                                  )
                                }}" class="img-fluid" alt="img" (error)="handleAuthorImageError($event)" />
                            </div>
                          </div>
                          <div class="review-details">
                            <div class="name-and-image">
                              <h6>{{ Reclamation?.utilisateur?.nom }}</h6>
                              <img style="width: 47px" src="assets/img/processus.gif" alt="" />
                            </div>
                            <div class="rating">
                              <div class="rating-star">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i style="color: #e98b11; font-weight: bold"
                                  class="fa-sharp fa-solid fa-calendar-days"></i>
                                {{
                                Reclamation?.createdAt
                                | date : "dd MMM yyyy" : locale
                                }}
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i class="fa-sharp fa-solid fa-clock"></i>{{ Reclamation?.createdAt | date : "HH:mm" }}
                              </div>
                            </div>
                            <div class="row mb-3">
                              <div class="col">
                                {{
                                Reclamation?.bien?.nom}}
                              </div>
                              <div class="col" style="color: #e98b11; font-weight: bold"
                                *ngIf="Reclamation && Reclamation?.bien">
                                {{ formatPrice(Reclamation?.bien?.prix) }} FCFA
                              </div>
                            </div>
                            <ul class="review-gallery">
                              <li *ngFor="
                                  let photo of Reclamation?.bien?.photos?.slice(
                                    0,
                                    4
                                  );
                                  let i = index
                                ">
                                <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                              </li>
                              <ng-container *ngIf="Reclamation?.bien?.photos?.length === 0">
                                <li *ngFor="let _ of [1, 2, 3, 4]">
                                  <img class="img-fluid" alt="Image par défaut"
                                    src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                </li>
                              </ng-container>
                            </ul>
                            <div class="m-3" *ngIf="
                                Reclamation &&
                                Reclamation?.type_probleme &&
                                Reclamation?.type_probleme?.nom
                              ">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-circle-exclamation"></i>
                              Probleme : {{ Reclamation?.type_probleme?.nom }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.contenu">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Motif : {{ Reclamation?.contenu }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.prix_estimatif">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Cout :
                              <span style="color: #e98b11; font-weight: bold">
                                {{ formatPrice(Reclamation?.prix_estimatif) }}
                                FCFA
                              </span>
                            </div>
                            <div class="row">
                              <div class="col">
                                <p class="blog-category">
                                  <a data-bs-toggle="collapse" href="#quelquesimages" role="button"
                                    aria-expanded="false" aria-controls="collapseExample"><span>Quelques
                                      images</span></a>
                                </p>
                              </div>
                            </div>
                            <div class="collapse" id="quelquesimages">
                              <ul class="review-gallery">
                                <li *ngFor="
                                    let photo of Reclamation?.photoReclamations?.slice(
                                      0,
                                      4
                                    );
                                    let i = index
                                  ">
                                  <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                                </li>
                                <ng-container *ngIf="
                                    Reclamation?.photoReclamations?.length === 0
                                  ">
                                  <li *ngFor="let _ of [1, 2, 3, 4]">
                                    <!-- Répéter 4 fois -->
                                    <img class="img-fluid" alt="Image par défaut"
                                      src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                  </li>
                                </ng-container>
                              </ul>
                            </div>
                            <div class="row mt-1">
                              <div class="row scroll-text">
                                <div class="scroll-textl" *ngIf="
                                    Reclamation &&
                                    Reclamation?.prix_estimatif <= 10000
                                  ">
                                  Le locataire paie
                                </div>
                                <div class="scroll-textl" *ngIf="
                                    Reclamation &&
                                    Reclamation?.prix_estimatif >= 10000
                                  ">
                                  C'est a votre charge
                                </div>
                              </div>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des processus de reclamations lancees que j'ai fait  -->
    <!-- Debut des reclamations  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('reclamation')" id="reclamation" role="tabpanel"
      aria-labelledby="reclamation-tab">
      <div class="dashboard-content">
        <div class="container">
          <div class="row dashboard-info reviewpage-content">
            <div class="col-lg-12 d-flex" *ngIf="reclamationUser && reclamationUser.length > 0">
              <div class="card dash-cards w-100">
                <app-mes-reclamations></app-mes-reclamations>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="reclamation && reclamation?.length > 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Les reclamations sur mes biens</h4>
                </div>
                <div class="ligne">
                  <div class="card-body">
                    <div id="review-chart">
                      <ul class="review-list">
                        <li class="review-box" *ngFor="let Reclamation of reclamation">
                          <div class="review-profile">
                            <div class="review-img">
                              <img src="{{
                                  generateImageUrl(
                                    Reclamation?.utilisateur?.photo?.nom
                                  )
                                }}" class="img-fluid" alt="img" (error)="handleAuthorImageError($event)" />
                            </div>
                          </div>
                          <div class="review-details">
                            <h6>{{ Reclamation?.utilisateur?.nom }}</h6>
                            <div class="rating">
                              <div class="rating-star">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i style="color: #e98b11; font-weight: bold"
                                  class="fa-sharp fa-solid fa-calendar-days"></i>
                                {{
                                Reclamation?.createdAt
                                | date : "dd MMM yyyy" : locale
                                }}
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i class="fa-sharp fa-solid fa-clock"></i>{{ Reclamation?.createdAt | date : "HH:mm" }}
                              </div>
                            </div>
                            <div class="row mb-3">
                              <div class="col" *ngIf="
                                  Reclamation &&
                                  Reclamation?.bien &&
                                  Reclamation?.bien?.typeImmo
                                ">
                                {{
                                Reclamation?.bien?.nom
                                ? Reclamation?.bien?.nom
                                : Reclamation?.bien?.typeImmo?.nom
                                }}
                              </div>
                              <div class="col" style="color: #e98b11; font-weight: bold"
                                *ngIf="Reclamation && Reclamation?.bien">
                                {{ formatPrice(Reclamation?.bien?.prix) }} FCFA
                              </div>
                            </div>
                            <ul class="review-gallery">
                              <li *ngFor="
                                  let photo of Reclamation?.bien?.photos.slice(
                                    0,
                                    4
                                  );
                                  let i = index
                                ">
                                <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                              </li>
                              <ng-container *ngIf="Reclamation?.bien?.photos?.length === 0">
                                <li *ngFor="let _ of [1, 2, 3, 4]">
                                  <img class="img-fluid" alt="Image par défaut"
                                    src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                </li>
                              </ng-container>
                            </ul>
                            <div class="m-3" *ngIf="
                                Reclamation &&
                                Reclamation?.type_probleme &&
                                Reclamation?.type_probleme?.nom
                              ">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-circle-exclamation"></i>
                              Probleme : {{ Reclamation?.type_probleme?.nom }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.contenu">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Motif : {{ Reclamation?.contenu }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.prix_estimatif">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Cout :
                              <span style="color: #e98b11; font-weight: bold">
                                {{ formatPrice(Reclamation?.prix_estimatif) }}
                                FCFA
                              </span>
                            </div>
                            <div class="row">
                              <div class="col">
                                <p class="blog-category">
                                  <a data-bs-toggle="collapse" href="#quelquesimages" role="button"
                                    aria-expanded="false" aria-controls="collapseExample"><span>Quelques
                                      images</span></a>
                                </p>
                              </div>
                            </div>
                            <div class="collapse" id="quelquesimages">
                              <ul class="review-gallery">
                                <li *ngFor="
                                    let photo of Reclamation?.photoReclamations?.slice(
                                      0,
                                      4
                                    );
                                    let i = index
                                  ">
                                  <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                                </li>
                                <ng-container *ngIf="
                                    Reclamation?.photoReclamations?.length === 0
                                  ">
                                  <li *ngFor="let _ of [1, 2, 3, 4]">
                                    <!-- Répéter 4 fois -->
                                    <img class="img-fluid" alt="Image par défaut"
                                      src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                  </li>
                                </ng-container>
                              </ul>
                            </div>
                            <div class="row mt-1">
                              <div class="row scroll-text">
                                <div class="scroll-textl">
                                  {{ Reclamation?.charge }}
                                </div>
                                <!-- <div class="scroll-textl"
                                                                    *ngIf="Reclamation && Reclamation.prix_estimatif <= 10000">
                                                                    Confirmer, Locataire paie</div>
                                                                <div class="scroll-textl"
                                                                    *ngIf="Reclamation && Reclamation.prix_estimatif >= 10000">
                                                                    Confirmer, c'est a votre charge</div> -->
                              </div>
                            </div>
                            <div class="row mt-3">
                              <div class="col">
                                <button type="button" class="btn btn-outline-success" (click)="
                                    LancerProcessusReparation(
                                      Reclamation?.id
                                    )
                                  ">
                                  <i class="fas fa-times"></i> Confirmer
                                </button>
                              </div>
                              <!-- <div class="col"
                                                                *ngIf="Reclamation && Reclamation.prix_estimatif >= 10000">
                                                                <button type="button"
                                                                    class="btn btn-outline-success"
                                                                    (click)="LancerProcessusReparation(Reclamation.bien.id)"><i
                                                                        class="fas fa-check"></i>
                                                                    Je prend</button>
                                                            </div> -->
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="
                reclamationProcessusLance &&
                reclamationProcessusLance?.length > 0
              ">
              <div class="card dash-cards w-100">
                <app-processus-lances></app-processus-lances>
              </div>
            </div>
            <div class="col-lg-12 d-flex" *ngIf="reclamationLancer && reclamationLancer?.length > 0">
              <div class="card dash-cards w-100">
                <div class="card-header">
                  <h4>Les processus de reclamation encours de mes biens</h4>
                </div>
                <div class="ligne">
                  <div class="card-body">
                    <div id="review-chart">
                      <ul class="review-list">
                        <li class="review-box" *ngFor="let Reclamation of reclamationLancer">
                          <div class="review-profile">
                            <div class="review-img">
                              <img src="{{
                                  generateImageUrl(
                                    Reclamation?.utilisateur?.photo?.nom
                                  )
                                }}" class="img-fluid" alt="img" (error)="handleAuthorImageError($event)" />
                            </div>
                          </div>
                          <div class="review-details">
                            <div class="name-and-image">
                              <h6>{{ Reclamation?.utilisateur?.nom }}</h6>
                              <img style="width: 47px" src="assets/img/processus.gif" alt="" />
                            </div>
                            <div class="rating">
                              <div class="rating-star">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                              </div>
                              <div *ngIf="Reclamation && Reclamation?.createdAt">
                                <i style="color: #e98b11; font-weight: bold"
                                  class="fa-sharp fa-solid fa-calendar-days"></i>
                                {{
                                Reclamation?.createdAt
                                | date : "dd MMM yyyy" : locale
                                }}
                              </div>
                              <div *ngIf="Reclamation && Reclamation.createdAt">
                                <i class="fa-sharp fa-solid fa-clock"></i>{{ Reclamation?.createdAt | date : "HH:mm" }}
                              </div>
                            </div>
                            <div class="row mb-3">
                              <div class="col" *ngIf="
                                  Reclamation &&
                                  Reclamation?.bien &&
                                  Reclamation?.bien?.typeImmo
                                ">
                                {{
                                Reclamation?.bien?.nom
                                ? Reclamation?.bien?.nom
                                : Reclamation?.bien?.typeImmo?.nom
                                }}
                              </div>
                              <div class="col" style="color: #e98b11; font-weight: bold"
                                *ngIf="Reclamation && Reclamation?.bien">
                                {{ formatPrice(Reclamation?.bien?.prix) }} FCFA
                              </div>
                            </div>
                            <ul class="review-gallery">
                              <li *ngFor="
                                  let photo of Reclamation?.bien?.photos?.slice(
                                    0,
                                    4
                                  );
                                  let i = index
                                ">
                                <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                              </li>
                              <ng-container *ngIf="Reclamation?.bien?.photos?.length === 0">
                                <li *ngFor="let _ of [1, 2, 3, 4]">
                                  <img class="img-fluid" alt="Image par défaut"
                                    src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                </li>
                              </ng-container>
                            </ul>
                            <div class="m-3" *ngIf="
                                Reclamation &&
                                Reclamation?.type_probleme &&
                                Reclamation?.type_probleme?.nom
                              ">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-circle-exclamation"></i>
                              Probleme : {{ Reclamation?.type_probleme?.nom }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.contenu">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Motif : {{ Reclamation?.contenu }}
                            </div>
                            <div class="m-3" *ngIf="Reclamation && Reclamation?.prix_estimatif">
                              <i style="color: #e98b11; font-weight: bold" class="fa-solid fa-check"></i>
                              Cout :
                              <span style="color: #e98b11; font-weight: bold">
                                {{ formatPrice(Reclamation?.prix_estimatif) }}
                                FCFA
                              </span>
                            </div>
                            <div class="row">
                              <div class="col">
                                <p class="blog-category">
                                  <a data-bs-toggle="collapse" href="#quelquesimages" role="button"
                                    aria-expanded="false" aria-controls="collapseExample"><span>Quelques
                                      images</span></a>
                                </p>
                              </div>
                            </div>
                            <div class="collapse" id="quelquesimages">
                              <ul class="review-gallery">
                                <li *ngFor="
                                    let photo of Reclamation?.photoReclamations?.slice(
                                      0,
                                      4
                                    );
                                    let i = index
                                  ">
                                  <img class="img-fluid" alt="Image" [src]="generateImageUrl(photo?.nom)" />
                                </li>
                                <ng-container *ngIf="
                                    Reclamation?.photoReclamations?.length === 0
                                  ">
                                  <li *ngFor="let _ of [1, 2, 3, 4]">
                                    <!-- Répéter 4 fois -->
                                    <img class="img-fluid" alt="Image par défaut"
                                      src="assets/img/gallery/gallery1/gallery-1.jpg" />
                                  </li>
                                </ng-container>
                              </ul>
                            </div>
                            <div class="row mt-1">
                              <div class="row scroll-text">
                                <div class="scroll-textl" *ngIf="
                                    Reclamation &&
                                    Reclamation?.prix_estimatif <= 10000
                                  ">
                                  Le locataire paie
                                </div>
                                <div class="scroll-textl" *ngIf="
                                    Reclamation &&
                                    Reclamation?.prix_estimatif >= 10000
                                  ">
                                  C'est a votre charge
                                </div>
                              </div>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <!-- Fin des reclamations  -->
    <!-- Debut des Factures  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('facture')" id="facture" role="tabpanel"
      aria-labelledby="facture-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="factureBien && factureBien.length > 0; else noF">
                <h5>Mes factures</h5>
              </ng-container>
              <ng-template #noF>
                <h5>Vous n'avez pas de facture disponible</h5>
              </ng-template>
              <!-- <h4>Mes factures</h4> -->
              <div class="filter-content form-group">
                <div class="group-img">
                  <input [(ngModel)]="searchFacture" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="table-responsive" *ngIf="factureBien && factureBien.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Statut</th>
                    <th mat-sort-header="details" class="no-sort">
                      Référence du bien
                    </th>
                    <th mat-sort-header="date">Date</th>
                    <th mat-sort-header="dateecheance">Date d'echeance</th>
                    <th mat-sort-header="status">Statuts</th>
                    <th mat-sort-header="Action">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                      let Facture of factureBien
                        | filter : searchFacture
                        | paginate
                          : {
                              itemsPerPage: 4,
                              currentPage: pfacturebien,
                              id: 'factureBiens'
                            }
                    ">
                    <!-- <td>
                      <div class="listingtable-img">
                        <a (click)="goToDettailFacture(Facture.uuid)">
                          <div *ngIf="!Facture?.statut">
                            <img src="../../../../assets/img/Facture/4.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                          <div *ngIf="Facture?.statut">
                            <img src="../../../../assets/img/Facture/5.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                        </a>
                      </div>
                    </td> -->
                    <td>
                      <div *ngIf="Facture?.statut">
                        <a (click)="goToDettailFacture(Facture.uuid)">
                          <!-- <div *ngIf="!Facture?.statut">
                            <img src="../../../../assets/img/Facture/4.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                          <div *ngIf="Facture?.statut">
                            <img src="../../../../assets/img/Facture/5.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div> -->
                          Payé
                        </a>
                      </div>
                      <div *ngIf="!Facture?.statut">
                        <a (click)="goToDettailFacture(Facture.uuid)">
                          <!-- <div *ngIf="!Facture?.statut">
                            <img src="../../../../assets/img/Facture/4.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                          <div *ngIf="Facture?.statut">
                            <img src="../../../../assets/img/Facture/5.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div> -->
                          Non payé
                        </a>
                      </div>
                    </td>
                    <td>
                      <h6 *ngIf="Facture?.bien && Facture?.bien?.typeImmo">
                        <a (click)="goToDettailFacture(Facture?.bien?.uuid)">
                          {{
                          Facture?.bien?.reference
                          ? Facture.bien.nom
                          : Facture?.bien?.typeImmo?.nom
                          }}
                        </a>
                      </h6>
                      <div class="listingtable-rate">
                        <a *ngIf="Facture?.bien && Facture?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ Facture?.bien?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="Facture?.bien && Facture?.bien?.prix">{{
                          formatPrice(Facture?.bien?.prix) }} FCFA</span>
                      </div>
                      <!-- <p *ngIf="Facture?.bien && Facture?.bien?.adresse">
                        {{
                        Facture?.bien?.adresse?.commune?.cercle?.region?.pays
                        .nompays
                        }}
                        -
                        {{
                        Facture?.bien?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ Facture?.bien.adresse?.commune?.nomcommune }} -
                        {{ Facture?.bien?.adresse?.quartier }}
                      </p> -->
                    </td>

                    <td>
                      <span class="views-count" *ngIf="Facture && Facture?.createdAt">{{
                        Facture?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="Facture && Facture?.createdAt">{{
                        Facture?.dateEcheance | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td *ngIf="Facture?.bien?.statut?.nom === 'A vendre'">
                      <span [ngClass]="{
                          unpublish: Facture?.bien?.statut?.nom === 'A vendre'
                        }" class="status-text">Vente</span>
                    </td>
                    <td *ngIf="Facture?.bien?.statut?.nom === 'A louer'">
                      <span [ngClass]="{
                          unpublish: Facture?.bien?.statut?.nom === 'A vendre'
                        }" class="status-text">Location</span>
                    </td>
                    <td>
                      <!-- <span class="status-text">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openReclamationModal(BienImmo.bien.id)"
                                                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                    data-bs-whatever="@fat">Reclamation</button>
                                            </span> -->

                      <div class="action">
                        <a (click)="goToDettailFacture(Facture.uuid)" class="action-btn btn-view crd">
                          <img class="icone-size" src="../../../../assets/img/iconeBien/facture.png"
                            alt="Room amenities">
                          <span class="hover-text">Voir la facture</span>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- Modal pour faire une reclamation  -->
              <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">
                        Faire une reclamation
                      </h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalContent">
                      <form>
                        <input type="hidden" [(ngModel)]="selectedBienImmoId" name="selectedBienImmoId" />
                        <div class="row">
                          <div class="col-md-6 mb-3">
                            <label for="recipient-name" class="col-form-label">Type de probleme
                              <span style="color: red">*</span></label>
                            <div class="pass-group group-img">
                              <select [(ngModel)]="form.type" name="type" class="form-control" id="">
                                <option *ngFor="let item of probleme" [value]="item.id">
                                  {{ item?.nom }}
                                </option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6 mb-3">
                            <label class="col-form-label">Prix estimatif <span>*</span></label>
                            <input type="number" pattern="[0-9]" class="form-control pass-input" name="prix_estimatif"
                              [(ngModel)]="form.prix_estimatif" placeholder="FCFA" />
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="message-text" class="col-form-label">Description de la reclamation
                            <span style="color: red">*</span></label>
                          <textarea name="contenu" [(ngModel)]="form.contenu" class="form-control" id="message-text"
                            placeholder="Description"></textarea>
                        </div>
                        <div class="mb-3">
                          <div class="row">
                            <div class="featured-img1">
                              <h6 class="media-title">
                                Images reclamation <span>*</span>
                              </h6>
                              <div class="media-image">
                                <div class="row">
                                  <div *ngFor="
                                      let imageUrl of image;
                                      let i = index
                                    " class="col-lg-3 col-md-6 image-container m-1">
                                    <img class="image-size m-3" [src]="imageUrl" alt="Image {{ i }}" />
                                    <button class="close-button" (click)="removeImage(i)">
                                      <i class="fas fa-times close-icon"></i>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="settings-upload-btn">
                              <input type="file" id="photo" name="photo" (change)="onFileSelected($event)" multiple
                                class="hide-input image-upload" accept=".png, .jpeg, .jpg, .svg, .webp"
                                [disabled]="maxImageCount >= 4" />
                              <label for="file" class="file-upload">Ajouter l'image</label>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Annuler
                      </button>
                      <button type="button" class="btn btn-primary" (click)="FaireReclamation()">
                        Envoyer
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <pagination-controls *ngIf="factureBien && factureBien.length > 0" (pageChange)="pfacturebien = $event"
              previousLabel="Précédent" nextLabel="Suivant" class="pagination" previousClass="pagination__previous"
              nextClass="pagination__next" containerClass="pagination__container" pageClass="pagination__page"
              activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
              id="factureBiens"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des Factures  -->

    <!-- Debut de Factures de mes bien  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('factureBien')" id="factureBien" role="tabpanel"
      aria-labelledby="factureBien-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="facture && facture.length > 0; else noFa">
                <h5>Mes factures</h5>
              </ng-container>
              <ng-template #noFa>
                <h5>Vous n'avez pas de facture disponible</h5>
              </ng-template>
              <!-- <h4>Mes factures</h4> -->
              <div class="filter-content form-group">
                <div class="group-img">
                  <input [(ngModel)]="searchFacture" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="table-responsive" *ngIf="facture && facture.length > 0">
              <table matSort (matSortChange)="sortData($event)" class="listing-table datatable" id="listdata-table">
                <thead>
                  <tr>
                    <th mat-sort-header="img" class="no-sort">Statut</th>
                    <th mat-sort-header="details" class="no-sort">
                    Référence du biens
                    </th>
                    <th mat-sort-header="date">Date</th>
                    <th mat-sort-header="dateecheance">Date d'echeance</th>
                    <th mat-sort-header="status">Statuts</th>
                    <th mat-sort-header="Action">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="
                     let Facture of facture
                       | filter : searchFacture
                       | paginate
                         : {
                             itemsPerPage: 4,
                             currentPage: pfacture,
                             id: 'facture'
                           }
                   ">
                    <td>
                      <div *ngIf="Facture?.statut">
                        <a (click)="goToDettailFacture(Facture.uuid)">
                          <!-- <div *ngIf="!Facture?.statut">
                            <img src="../../../../assets/img/Facture/4.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                          <div *ngIf="Facture?.statut">
                            <img src="../../../../assets/img/Facture/5.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div> -->
                          Payé
                        </a>
                      </div>
                      <div *ngIf="!Facture?.statut">
                        <a (click)="goToDettailFacture(Facture.uuid)">
                          <!-- <div *ngIf="!Facture?.statut">
                            <img src="../../../../assets/img/Facture/4.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div>
                          <div *ngIf="Facture?.statut">
                            <img src="../../../../assets/img/Facture/5.png" class="img-fluid image-size"
                              alt="blog-img" />
                          </div> -->
                          Non payé
                        </a>
                      </div>
                    </td>
                    <td>
                      <h6 *ngIf="Facture?.bien && Facture?.bien?.reference" style="cursor: pointer;">
                        <a (click)="goToDettailBien(Facture?.bien?.uuid)">
                          {{
                          Facture?.bien?.reference
                         
                          
                          }}
                        </a>
                      </h6>
                      <div class="listingtable-rate">
                        <a *ngIf="Facture?.bien && Facture?.bien?.typeImmo" href="javascript:void(0)" class="cat-icon">
                          <i class="fa-regular fa-circle-stop"></i>
                          {{ Facture?.bien?.typeImmo?.nom }}
                        </a>
                        <span class="discount-amt" *ngIf="Facture?.bien && Facture?.bien?.prix">{{
                          formatPrice(Facture?.bien?.prix) }} FCFA</span>
                      </div>
                      <!-- <p *ngIf="Facture?.bien && Facture?.bien?.adresse">
                        {{
                        Facture?.bien?.adresse?.commune?.cercle?.region?.pays
                        .nompays
                        }}
                        -
                        {{
                        Facture?.bien?.adresse?.commune?.cercle?.region?.nomregion
                        }}
                        - {{ Facture?.bien.adresse?.commune?.nomcommune }} -
                        {{ Facture?.bien?.adresse?.quartier }}
                      </p> -->
                    </td>

                    <td>
                      <span class="views-count" *ngIf="Facture && Facture?.createdAt">{{
                        Facture?.createdAt | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td>
                      <span class="views-count" *ngIf="Facture && Facture?.createdAt">{{
                        Facture?.dateEcheance | date : "dd MMM yyyy" : locale
                        }}</span>
                    </td>
                    <td *ngIf="Facture?.bien?.statut?.nom === 'A vendre'">
                      <span [ngClass]="{
                         unpublish: Facture?.bien?.statut?.nom === 'A vendre'
                       }" class="status-text">Vente</span>
                    </td>
                    <td *ngIf="Facture?.bien?.statut?.nom === 'A louer'">
                      <span [ngClass]="{
                         unpublish: Facture?.bien?.statut?.nom === 'A vendre'
                       }" class="status-text">Location</span>
                    </td>
                    <td>
                      <!-- <span class="status-text">
                                               <button type="button" class="btn btn-primary"
                                                   (click)="openReclamationModal(BienImmo.bien.id)"
                                                   data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                   data-bs-whatever="@fat">Reclamation</button>
                                           </span> -->

                      <div class="action">
                        <a (click)="goToDettailFacture(Facture?.uuid)" class="action-btn btn-view crd"><i
                            class="feather-eye"></i></a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- Modal pour faire une reclamation  -->
              <div class="modal fade my-custom-modal" id="exampleModal" tabindex="-1"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">
                        Faire une reclamation
                      </h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalContent">
                      <form>
                        <input type="hidden" [(ngModel)]="selectedBienImmoId" name="selectedBienImmoId" />
                        <div class="row">
                          <div class="col-md-6 mb-3">
                            <label for="recipient-name" class="col-form-label">Type de probleme
                              <span style="color: red">*</span></label>
                            <div class="pass-group group-img">
                              <select [(ngModel)]="form.type" name="type" class="form-control" id="">
                                <option *ngFor="let item of probleme" [value]="item.id">
                                  {{ item?.nom }}
                                </option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-6 mb-3">
                            <label class="col-form-label">Prix estimatif <span>*</span></label>
                            <input type="number" pattern="[0-9]" class="form-control pass-input" name="prix_estimatif"
                              [(ngModel)]="form.prix_estimatif" placeholder="FCFA" />
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="message-text" class="col-form-label">Description de la reclamation
                            <span style="color: red">*</span></label>
                          <textarea name="contenu" [(ngModel)]="form.contenu" class="form-control" id="message-text"
                            placeholder="Description"></textarea>
                        </div>
                        <div class="mb-3">
                          <div class="row">
                            <div class="featured-img1">
                              <h6 class="media-title">
                                Images biens <span>*</span>
                              </h6>
                              <div class="media-image">
                                <div class="row">
                                  <div *ngFor="
                                     let imageUrl of image;
                                     let i = index
                                   " class="col-lg-3 col-md-6 image-container m-1">
                                    <img class="image-size m-3" [src]="imageUrl" alt="Image {{ i }}" />
                                    <button class="close-button" (click)="removeImage(i)">
                                      <i class="fas fa-times close-icon"></i>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="settings-upload-btn">
                              <input type="file" id="photo" name="photo" (change)="onFileSelected($event)" multiple
                                class="hide-input image-upload" [disabled]="maxImageCount >= 4" />
                              <label for="file" class="file-upload">Ajouter l'image</label>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Annuler
                      </button>
                      <button type="button" class="btn btn-primary" (click)="FaireReclamation()">
                        Envoyer
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <pagination-controls *ngIf="facture && facture.length > 0" (pageChange)="pfacture = $event"
              previousLabel="Précédent" nextLabel="Suivant" class="pagination" previousClass="pagination__previous"
              nextClass="pagination__next" containerClass="pagination__container" pageClass="pagination__page"
              activeClassName="pagination__page--active" disabledClass="pagination__page--disabled"
              id="facture"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des Factures de mes biens  -->

    <!-- Debut des favoris  -->
    <div class="tab-pane fade show" [class.active]="isTabActive('favoris')" id="favoris" role="tabpanel"
      aria-labelledby="favoris-tab">
      <div class="dash-listingcontent dashboard-info">
        <div class="dash-cards card">
          <div class="card-body">
            <div class="listing-search">
              <ng-container *ngIf="favoris && favoris.length > 0; else noFq">
                <h5>Mes favoris</h5>
              </ng-container>
              <ng-template #noFq>
                <h5>Vous n'avez pas de biens dans les favoris</h5>
              </ng-template>
              <!-- <h4>Mes favoris</h4> -->
              <div class="filter-content form-group">
                <div class="group-img">
                  <input [(ngModel)]="searchFavoris" type="text" class="form-control" placeholder="Recherche..." />
                  <i class="feather-search"></i>
                </div>
              </div>
            </div>
            <div class="listmapgrid-content" style="overflow-y: auto; height: 450px; overflow-x: hidden">
              <div class="blog-listview">
                <div class="card card2" *ngFor="let slide of favoris | filter : searchFavoris">
                  <div class="blog-widget">
                    <div class="blog-img">
                      <a (click)="goToDettailBien(slide.uuid)">
                        <div *ngIf="
                            slide.bien.photoImmos &&
                              slide.bien.photoImmos.length > 0;
                            else noImages
                          ">
                          <img src="{{
                              generateImageUrl(slide.bien.photoImmos[0].nom)
                            }}" class="img-fluid1 image-size1" alt="blog-img" />
                        </div>
                        <ng-template #noImages>
                          <div class="type" *ngIf="slide?.bien?.typeImmo?.nom === 'Villa'">
                            <img src="../../../../assets/img/typebien/villa.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <div class="type" *ngIf="slide?.bien?.typeImmo?.nom === 'Appartement'">
                            <img src="../../../../assets/img/typebien/appartement.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <div class="type" *ngIf="slide?.bien?.typeImmo?.nom === 'Terrain'">
                            <img src="../../../../assets/img/typebien/terrain.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <div class="type" *ngIf="slide?.bien?.typeImmo?.nom === 'Bureau'">
                            <img src="../../../../assets/img/typebien/bureau.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <div class="type" *ngIf="slide?.bien?.typeImmo?.nom === 'Champ'">
                            <img src="../../../../assets/img/typebien/champ.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <div class="type" *ngIf="
                              slide?.bien?.typeImmo?.nom === 'Magasin'
                            ">
                            <img src="../../../../assets/img/typebien/magasin.png" class="img-fluid1 image-size1"
                              alt="default-img" />
                          </div>
                          <!-- <img src="{{ DEFAULT_IMAGE_URL }}" class="img-fluid image-size" alt="default-img"> -->
                        </ng-template>
                      </a>
                      <div class="fav-item">
                        <span [ngClass]="{
                            statutbien: slide?.bien?.statut?.nom === 'A vendre'
                          }" class="Featured-text">{{ slide?.bien?.statut?.nom }}</span>
                        <a href="javascript:void(0)" *ngIf="isLoggedIn == true" class="fav-icon"
                          (click)="AimerBien(slide?.bien?.uuid)" [style.background-color]="
                            favoriteStatus[slide?.bien?.uuid] ? 'white' : '#e98b11'
                          ">
                          <i [style.color]="
                              favoriteStatus[slide?.bien?.uuid] ? 'black' : 'white'
                            " class="feather-heart"></i>
                        </a>
                      </div>
                    </div>
                    <div class="bloglist-content">
                      <div class="card-body">
                        <div class="blogfeaturelink">
                          <div class="blog-features">
                            <a href="javascript:void(0);"><span>
                                <i class="fa-regular fa-circle-stop"></i>
                                {{ slide?.bien?.typeImmo?.nom }}</span></a>
                          </div>
                          <div class="blog-author">
                            <div class="blog-author-img">
                              <!-- <img [src]="slide.img2" alt="author" /> -->
                              <img src="{{
                                  generateImageUrl(
                                    slide?.bien?.proprietaire?.photo?.nom
                                  )
                                }}" alt="author" (error)="handleAuthorImageError($event)" />
                            </div>
                            <a (click)="goToDettailBien(slide.bien.uuid)">{{
                              slide?.bien?.proprietaire?.nom
                              }}</a>
                          </div>
                        </div>
                        <h6>
                          <a (click)="goToDettailBien(slide?.bien?.uuid)">{{
                            slide?.bien?.nom
                            ? slide?.bien?.nom
                            : slide?.bien?.typeImmo?.nom
                            }}</a>
                        </h6>
                        <div class="blog-location-details">
                          <div class="location-info">
                            <i class="feather-map-pin"></i>
                            {{ slide?.bien?.adresse?.quartier }}
                          </div>
                          <!-- <div class="location-info">
                    <i class="feather-phone-call"></i> 00556245562
                  </div> -->
                          <div class="location-info">
                            <i class="feather-eye"></i>
                            {{ favoritedPropertiesCount1[slide?.bien?.uuid] }}
                          </div>
                        </div>
                        <!-- <p class="ratings">
                  <span>4.0</span> ( 50 Reviews )
                </p> -->
                        <div class="amount-details">
                          <div class="amount">
                            <span class="validrate">{{ formatPrice(slide?.bien?.prix) }} FCFA
                            </span>
                            <!-- <span>{{ slide.oldamount }}</span> -->
                          </div>
                          <a class="crd" (click)="goToDettailBien(slide?.bien?.uuid)">Savoir plus</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr />
                </div>

                <!-- PAGINATION  -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin des factures  -->
  </div>
</div>
<!-- </div> -->